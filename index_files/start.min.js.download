function http_build_query(a,b){var c,d,e=[],f="&",g=function(a,b,c){var d,e=[];if(b===!0?b="1":b===!1&&(b="0"),null!==b){if("object"==typeof b){for(d in b)null!==b[d]&&e.push(g(a+"["+d+"]",b[d],c));return e.join(c)}if("function"!=typeof b)return encodeURIComponent(a)+"="+encodeURIComponent(b);throw new Error("There was an error processing for http_build_query().")}return""};f||(f="&");for(d in a){c=a[d];var h=g(d,c,f);""!==h&&e.push(h)}b&&(b=b.replace(/[&?]+$/,""));var i=e.join(f),j=b?b+(i?b.indexOf("?")!=-1?"&":"?":""):"";return j+=i}function setCookie(a,b,c){var d=new Date;d.setTime(d.getTime()+c),document.cookie=a+"="+escape(b)+";path=/"+(null==c?"":";expires="+d.toGMTString())}function getCookie(a){return document.cookie.length>0&&(c_start=document.cookie.indexOf(a+"="),c_start!=-1)?(c_start=c_start+a.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function objMinKey(a){var b=null;for(var c in a)c=c.toInt(),(null===b||b>c)&&(b=c);return b}function objMaxKey(a){var b=null;for(var c in a)c=c.toInt(),(null===b||b<c)&&(b=c);return b}function timer(a,b){window.setInterval(function(){var c=0,d=0,e=0;a>0?(c=Math.floor(a/3600),d=Math.floor(a/60)-60*c,e=Math.floor(a)-60*c*60-60*d):b.parents(".game-bg").find(".promotion-title, .promotion-price, .promotion-discount *, .right-content .f-z-16, .current-stock *").css("color","#999").end().find(".promotion-buy a").attr("class","fr gray-btn buy-now").end().find(".promotion-img img").addClass("gray"),c>99?(c=99,d=60,e=60):(c<=9&&(c="0"+c),d<=9&&(d="0"+d),e<=9&&(e="0"+e)),c=String(c),d=String(d),e=String(e),c=c.split(""),d=d.split(""),e=e.split(""),b.find(".hour1").html(c[0]),b.find(".hour2").html(c[1]),b.find(".minute1").html(d[0]),b.find(".minute2").html(d[1]),b.find(".second1").html(e[0]),b.find(".second2").html(e[1]),a--},1e3)}function adPopupShow(){setCookie("ad_popup_close_time",1),$("body").addClass("overflow-hidden"),$(".ad-lock-screen").show();var a=$(".ad-lock-screen img");0==a.height()?a[0].onload=function(){positionReset()}:positionReset()}function positionReset(){var a=$(".ad-lock-screen img"),b=$(window).height(),c=($(window).width(),a.height());$(".ad-lock-screen").css("padding-top",(b-c)/2)}function deleteLastChar(a,b){var c=new RegExp(b+"([^"+b+"]*?)$");return a.replace(c,function(a){return a.length>1?a.substring(1):""})}function itemsSearchProp(){if(0==$(".jq-search-select-prop").length)return!1;var a=$(".jq-joint-search-items input").val().trim().toLowerCase(),b="";$("select.jq-search-select-prop").each(function(a,c){var d=$(this).find("option:selected").val();d&&(b+=d+",")}),b=deleteLastChar(b,","),$(".items-list ul li.jq-list-item").each(function(){var c=$(this).children(".box-block").attr("title"),d=$(this).attr("data-os"),e=!0;if(void 0!==c&&""!=c?(c=c.toLowerCase(),c.indexOf(a)==-1&&(e=!1)):e=!0,b)if(d){d=d.split(",");for(var f=b.split(","),g=f.length-1;g>=0;g--){for(var h=!1,i=0;i<d.length;i++)h=f[g]==d[i]||(h||!1);e=e===!0&&h}}else e=!1;else e=e||!1;1==e?$(this).show():$(this).hide()})}function firstSku(a){return 0!=$(".jq-list-item").length&&void $(".jq-list-item").each(function(){var a=$(this),b=currencyConfig.sign+" ",c=1*a.data("discount"),d=offPrice=0;if(a.find("ul.jq-sku-opts").length){var e=a.find(".jq-sku-opts").children("li.ui-option").eq(0),f=e.attr("data"),g=f.split("*");if(5==g.length){var h=e.data("id"),i=a.find(".jq-sku .jq-sku-btn");d=g[1].replace(/[^\d\.]/g,"").toFloat()*currencyConfig.rate,offPrice=(d*c/100).number_format(2),$(i).find(".init-price").text(b+offPrice),$(i).find(".init-title").html(g[0]),$(i).attr("data-val",f),g[2]&&($(i).find(".init-style").css("background",g[2]).show(),a.find(".colorPiece").css("background",g[2])),g[4]&&a.find(".jq-img, .img-preview img.lazy").attr("data-original",g[4]),a.find(".add-to-cart").attr("data-attr",h+"-"+g[0])}a.find(".jq-sale-price").text(b+d.number_format(2)),a.find(".jq-onsale-price").text(b+offPrice)}})}!function(a,b){function c(){}b.pl=new c,c.prototype.init=function(a,c){var d=this;d.config=c,d.c=b(a),d.plc=null,d.slider=null,d.data={lvStart:1,lvStartTitle:"",lvEnd:1,lvEndTitle:"",maxLv:1,maxLvTitle:"",minLv:1,minLvTitle:""},d.label={game:d.c.find("select.select-game"),area:d.c.find("select.select-area"),startTitle:d.c.find(".lv-start-title"),endTitle:d.c.find(".lv-end-title"),start:d.c.find(".lv-start"),end:d.c.find(".lv-end"),max:d.c.find(".lv-max"),min:d.c.find(".lv-min"),price:d.c.find(".total-price"),hour:d.c.find(".total-hour"),addToCart:d.c.find(".add-to-cart"),plKey:d.c.find("select.pl-key")},d.setSlider(),d.label.game.change(function(){var a=b(this).val(),c="";for(var e in gameConfigs[a].servers)for(var f in gameConfigs[a].servers[e].areas){var g=gameConfigs[a].servers[e].areas[f];c+='<option value="'+f+'">'+g.title+"</option>"}d.label.area.html(c).selectCustomer(),d.label.area.change()}),d.label.area.change(function(){var a=d.label.game.val(),c=d.label.area.val();b.get("/Powerleveling/data.html",{gid:a,aid:c},function(a){d.config=a;var b="";for(var c in a)b+='<option value="'+c+'">'+c+"</option>";d.label.plKey.html(b).selectCustomer(),d.setConfig()})}),d.label.plKey.change(function(){d.setConfig()}),d.label.start.keyup(function(){startLv=d.label.start.val().toInt(),endLv=d.label.end.val().toInt(),startLv<1&&d.label.start.val(1),startLv>endLv&&d.label.start.val(endLv),d.change()}),d.label.end.change(function(){startLv=d.label.start.val().toInt(),endLv=d.label.end.val().toInt(),endLv<startLv&&d.label.end.val(startLv),endLv>d.data.maxLv&&d.label.end.val(d.data.maxLv),d.change()})},c.prototype.setConfig=function(){var a=this,b=a.label.plKey.val();a.setTitle(b)},c.prototype.setTitle=function(a){var b=this,c=b.data;if(b.plc=b.config[a],c.minLv=b.plc&&void 0!==b.plc.goods_list?objMinKey(b.plc.goods_list):1,c.maxLv=b.plc&&void 0!==b.plc.goods_list?objMaxKey(b.plc.goods_list):1,b.plc){var d=b.plc.goods_list;void 0===d[c.minLv].lv_title||""==d[c.minLv].lv_title?(b.label.startTitle.hide(),b.label.endTitle.hide(),b.label.start.attr("type","number"),b.label.end.attr("type","number")):(b.label.startTitle.show(),b.label.endTitle.show(),b.label.start.attr("type","hidden"),b.label.end.attr("type","hidden")),b.label.addToCart.attr("data-id",b.plc.id)}c.lvStart=c.minLv,c.lvEnd=c.minLv+parseInt((c.maxLv-c.minLv)/2),b.label.start.val(c.lvStart),b.label.end.val(c.lvEnd),b.change()},c.prototype.change=function(){var a=this,b=a.data,c=a.plc?a.plc.goods_list:null;b.lvStart=a.label.start.val().toInt(),b.lvEnd=a.label.end.val().toInt(),a.plc?(b.minLvTitle=void 0!==c[b.minLv].lv_title&&c[b.minLv].lv_title?c[b.minLv].lv_title:b.minLv,b.maxLvTitle=void 0!==c[b.maxLv].lv_title&&c[b.maxLv].lv_title?c[b.maxLv].lv_title:b.maxLv,b.lvStartTitle=void 0===c[b.lvStart].lv_title||""==c[b.lvStart].lv_title?b.lvStart:c[b.lvStart].lv_title,b.lvEndTitle=void 0===c[b.lvEnd].lv_title||""==c[b.lvEnd].lv_title?b.lvEnd:c[b.lvEnd].lv_title):(b.minLvTitle=1,b.maxLvTitle=1),a.label.min.html("lv:"+b.minLvTitle),a.label.max.html("lv:"+b.maxLvTitle),a.label.startTitle.html(b.lvStartTitle),a.label.endTitle.html(b.lvEndTitle),a.label.start.val(b.lvStart),a.label.end.val(b.lvEnd),a.slider.slider({values:[b.lvStart,b.lvEnd],min:b.minLv,max:b.maxLv}),a.stat()},c.prototype.setSlider=function(){var a=this;a.slider=a.c.find("#selector-bar").slider({range:!0,min:1,max:1,values:[1,1],slide:function(b,c){a.label.start.val(c.values[0]),a.label.end.val(c.values[1]),a.change()}})},c.prototype.stat=function(){var a=this,b=a.data,c=a.plc?a.plc.goods_list:void 0,d=0,e=0;if(a.plc)for(var f in c)if(!(f<=b.lvStart)){if(f>b.lvEnd)break;d+=parseFloat(c[f].price_format),e+=c[f].hour.toFloat()}a.label.price.html(currencyConfig.sign+" "+d.toFixed(2)),a.label.hour.html(e.toFixed(2))}}(window,jQuery),Number.prototype.round=function(a){var b=Math.pow(10,a);return Math.round(this*b)/b},Number.prototype.ceil=function(a){var b=Math.pow(10,a);return Math.ceil(this*b)/b},Number.prototype.floor=function(a){var b=Math.pow(10,a);return Math.floor(this*b)/b},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.toInt=function(){var a=parseInt(this);return isNaN(a)?0:a},String.prototype.toFloat=function(){var a=parseFloat(this);return isNaN(a)?0:a},String.prototype.strCut=function(a,b){var c=this;return c.length>a?c.substr(0,a-3)+(b||"..."):c},String.prototype.ucFirst=function(){var a=this;return a[0].toUpperCase()+a.substr(1)},String.prototype.replaceAll=function(a,b){var c=this;for(var d in a){var e=new RegExp(a[d],"g");c=c.replace(e,b[d])}return c},String.prototype.number_format=Number.prototype.number_format=function(a,b,c){var d=this;d=(d+"").replace(/[^0-9+\-Ee.]/g,"");var e=isFinite(+d)?+d:0,f=isFinite(+a)?Math.abs(a):0,g="undefined"==typeof c?",":c,h="undefined"==typeof b?".":b,i="",j=function(a,b){var c=Math.pow(10,b);return""+(Math.round(a*c)/c).toFixed(b)};return i=(f?j(e,f):""+Math.round(e)).split("."),i[0].length>3&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,g)),(i[1]||"").length<f&&(i[1]=i[1]||"",i[1]+=new Array(f-i[1].length+1).join("0")),i.join(h)},String.prototype.size_format=Number.prototype.size_format=function(a){a=a||2;var b=1073741824,c=1048576,d=1024;if(this>=b){var e=this/b;return e.number_format(2)+"G"}if(this>=c){var e=this/c;return e.number_format(2)+"M"}if(this>=d){var e=this/d;return e.number_format(2)+"K"}return e.number_format(2)+"byte"},String.prototype.money_format=Number.prototype.money_format=function(a){var b=this*currency.rate;return currency.sign+b.number_format(a)},!function(a,b){b.fn.extend({chkvals:function(){var a=[];return b(this).each(function(c,d){b(this).prop("checked")&&a.push(b(this).val())}),a},vals:function(){var a=[];return b(this).each(function(c,d){a.push(b(this).val())}),a}})}(window,jQuery),!function(e,t){"use strict";var i,n,a=e.layui&&layui.define,o={getPath:function(){var a=document.scripts,b=a[a.length-1],c=b.src;if(!b.getAttribute("merge"))return c.substring(0,c.lastIndexOf("/")+1)}(),config:{verify_regexp:{email:/^[a-zA-Z0-9_\.\-]+@[a-zA-Z0-9_\.\-]+$/,phone:/^[\+\-\d]{4, 20}$/},formDefault:{key:null,name:null,notice:"",before:null,type:"text",style:null,show:!0,placeholder:"",uploadUrl:"",exts:["jpg","jpeg","gif","png"],val:null,val_format:null,val_type:"string",required:!1,verify:null,equal:null,error:"",max:null,min:null,digit:2}},end:{},minIndex:0,minLeft:[],type:["dialog","page","iframe","loading","tips","form"],lang:{tips:{en:"Tips",zh:"提示"},accept:{en:"Accept",zh:"确定"},cancel:{en:"Cancel",zh:"取消"},no_file:{en:"Please Select file!",zh:"请选择上传文件！"},file_too_large:{en:"Too large file!",zh:"上传文件超过限制！"},not_null:{en:"「#value1#」cannot be empty",zh:"「#value1#」不可为空"},must_match:{en:"「#value1#」must match [#value2#]",zh:"「#value1#」必须与「#value2#」一致"},format_error:{en:"「#value1#」Format Error",zh:"「#value1#」格式错误"},fill_options:{en:"You didnt fill out the required options",zh:"请完善选项"},value_max:{en:"「#value1#」option maximum is #value2#",zh:"「#value1#」选项最大值为 #value2#"},value_min:{en:"「#value1#」option minimum is #value1#",zh:"「#value1#」选项最小值为 #value2#"},value_range:{en:"「#value1#」option range from #value1# to #value2#",zh:"「#value1#」选项范围为 #value2# ~ #value3#"},length_max:{en:"「#value1#」option length must less than #value1#",zh:"「#value1#」长度不可超过 #value2# 位"},length_min:{en:"「#value1#」option length must greater than #value1#",zh:"「#value1#」长度不可小于 #value2# 位"},length_range:{en:"「#value1#」option length range from #value1# to #value2#",zh:"「#value1#」长度范围为 #value2# ~ #value3#"}},btn:["Accept","Cancel"]},r={v:"3.0.1",l:"en",ie:function(){var a=navigator.userAgent.toLowerCase();return!!(e.ActiveXObject||"ActiveXObject"in e)&&((a.match(/msie\s(\d+)/)||[])[1]||"11")}(),index:e.layer&&e.layer.v?1e5:0,path:o.getPath,lang:function(a){var b=o.lang[a];if(!b)return a;if("string"==typeof b)return b;b=b[r.l];var c=[],d=[];for(var e in arguments)0!=e&&(c.push("#value"+e+"#"),d.push(arguments[e]));return c.length>0&&(b=b.replaceAll(c,d)),b},config:function(b,c){return b=b||{},r.cache=o.config=i.extend({},o.config,b),r.path=o.config.path||r.path,"string"==typeof b.extend&&(b.extend=[b.extend]),o.config.path&&r.ready(),b.extend?(a?layui.addcss("modules/layer/"+b.extend):r.link("skin/"+b.extend),this):this},link:function(a,b,c){if(r.path){var d=i("head")[0],f=document.createElement("link");"string"==typeof b&&(c=b);var g=(c||a).replace(/\.|\//g,""),h="layuicss-"+g,j=0;f.rel="stylesheet",f.href=r.path+a,f.id=h,i("#"+h)[0]||d.appendChild(f),"function"==typeof b&&!function k(){return++j>80?e.console&&console.error("layer.css: Invalid"):void(1989===parseInt(i("#"+h).css("width"))?b():setTimeout(k,100))}()}},ready:function(b){var c="skinlayercss",d="1110";return a?layui.addcss("modules/layer/default/layer.css?v="+r.v+d,b,c):r.link("../../css/skin/default/layer.css?v="+r.v+d,b,c),this},alert:function(a,b,c){a=r.lang(a);var d="function"==typeof b;return d&&(c=b),r.open(i.extend({title:r.lang("tips"),content:a,yes:c},d?{}:b))},confirm:function(a,b,c,d){var e="function"==typeof b;return e&&(d=c,c=b),r.open(i.extend({content:a,btn:o.btn,yes:c,btn2:d},e?{}:b))},msg:function(a,b,c){var d="function"==typeof b,e=o.config.skin,f=(e?e+" "+e+"-msg":"")||"layui-layer-msg",g=s.anim.length-1;return d&&(c=b),r.open(i.extend({content:a,time:3e3,shade:!1,skin:f,title:!1,closeBtn:!1,btn:!1,resize:!1,end:c},d&&!o.config.skin?{skin:f+" layui-\tlayer-hui",anim:g}:function(){return b=b||{},(b.icon===-1||b.icon===t&&!o.config.skin)&&(b.skin=f+" "+(b.skin||"layui-layer-hui")),b}()))},load:function(a,b){return r.open(i.extend({type:3,icon:a||0,resize:!1,shade:.01},b))},tips:function(a,b,c){return r.open(i.extend({type:4,content:[a,b],closeBtn:!1,time:3e3,shade:!1,resize:!1,fixed:!1,maxWidth:210},c))}},l=function(a){var b=this;b.index=++r.index,b.config=i.extend({},b.config,o.config,a),a.form&&(b.form=a.form)&&delete b.config.form&&b.formInit(),document.body?b.creat():setTimeout(function(){b.creat()},50)};l.pt=l.prototype;var s=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];s.anim=["layer-anim","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"],l.pt.formInit=function(){var a=this;return a.form.__form=$('<div class="layui-form"></div>'),a.formRowsAdd(a.form||{}),this},l.pt.formRowConfig=function(key,row){var t=this;if("string"==typeof row){var _options=row.split("|"),_row={key:key,name:_options[0]};for(var k in _options)if(0!=k){var value=_options[k];if("required"!=value)switch(value){case"required":_row.required=!0;break;case"int":case"string":case"float":case"array":case"object":_row.val_type=value;break;default:var keyCode=value.substr(0,2);switch(value=value.substr(2),keyCode){case"r=":var valRange=value.split(",");_row.min=valRange[0],_row.max=valRange[1],_row.digit=valRange[2];break;case"v=":_row.val=value;break;case"~=":_row.val_format=value;break;case"o=":eval("value="+value+";"),_row.options=value;break;case"t=":_row.type=value;break;case"i=":_row.verify=value;break;case"==":_row.equal=value;break;case"b=":_row.before=value;break;case"n=":_row.notice=value;break;case"p=":_row.plaseholder=value;break;case"u=":_row.uploadUrl=value}}else _row.required=!0}}else{var _row=row;row.key=key}switch(t.form[key]=i.extend({},o.config.formDefault,t.form[key]||{},_row),t.form[key].type){case"text":case"password":case"textarea":case"select":case"radio":t.form[key].val||(t.form[key].val="string"==t.form[key].val_type?"":0);break;case"checkbox":t.form[key].val||(t.form[key].val=[])}return this},l.pt.formRowVerify=function(a){var b=this,c=b.form[a];switch(c.val_type){case"int":case"float":if(null!==c.min&&c.val<c.min||null!==c.max&&c.val>c.max){switch(c.error="「"+c.name+"」",!0){case null===c.min:c.error+=r.lang("value_max",c.max);break;case null===c.max:c.error+=r.lang("value_min",c.min);break;default:c.error+=r.lang("value_range",c.min,c.max)}return b.formRowResetError(a),!1}break;case"string":if(c.required&&""==c.val)return c.error=r.lang("not_null",c.name),b.formRowResetError(a),!1;if(c.min&&c.val.length<c.min||c.max&&c.val.length>c.max){switch(c.error="",!0){case null===c.min:c.error+=r.lang("length_max",c.name,c.max);break;case null===c.max:c.error+=r.lang("length_min",c.name,c.min);break;default:c.error+=r.lang("length_range",c.name,c.min,c.max)}return b.formRowResetError(a),!1}if(c.verify){var d="object"==typeof c.verify?c.verify:o.config.verify_regexp[c.verify];if(!d.test(c.val))return c.error=r.lang("format_error",c.name),b.formRowResetError(a),!1}if(c.equal&&c.val!=b.form[c.equal].val)return c.error=r.lang("must_match",c.name,b.form[c.equal].name),b.formRowResetError(a),!1;break;case"array":if(c.required&&0==c.val.length)return c.error=r.lang("not_null",c.name),b.formRowResetError(a),!1}return c.error="",b.formRowResetError(a),!0},l.pt.formRowResetError=function(a){return this.form[a].e.find(".tips").html(this.form[a].error),this},l.pt.formData=function(){var a=this,b=a.form,c={};for(var d in b)switch(b[d].type){case"text":case"textarea":case"password":case"select":case"radio":case"file":case"multifile":case"checkbox":if(!a.formRowVerify(d))return!1;c[d]=b[d].val}return c},l.pt.formRowInit=function(a){var b=this;if(b.form[a].e){var c=i(b.formRowHtml(a));b.form[a].e.replaceWith(c),b.form[a].e=c}else b.form[a].e=i(b.formRowHtml(a)),b.form[a].before?b.form[b.form[a].before].e.before(b.form[a].e):b.form[a].e.appendTo(b.form.__form);var d=b.form[a];switch(d.type){case"text":case"textarea":case"password":d.e.find("input, textarea").keyup(function(){if("int"==d.val_type||"float"==d.val_type){var c=$(this).val(),e="."==c[c.length-1];c="int"==d.val_type?c.toInt():c.toFloat().round(d.digit),d.max&&(c=Math.min(d.max,c)),d.val=c,$(this).val(c+(e?".":"")),b.formRowVerify(a)}else d.val=$(this).val().trim(),b.formRowVerify(d.key)});break;case"file":case"multifile":d.e.find(".layui-file-btn").click(function(){$(this).siblings("input").click()}),d.upload={input:d.e.find("input"),preview:d.e.find(".preview"),files:[],offset:0,process:null},d.val="file"==d.type?"":[],d.upload.input.change(function(){b.doUpload(a)});break;case"select":d.e.find("select").change(function(){d.val=$(this).val(),b.formRowVerify(a)});break;case"radio":d.e.find("input").click(function(){d.val=$(this).val(),b.formRowVerify(d.key)});break;case"checkbox":d.e.change(function(){d.val=$(this).find("input").chkvals(),b.formRowVerify(d.key)})}var e=["click","dblclick","change","mouseover","mouseout","keyup","keydown"];for(var f in e){var g=e[f];if(d[g]){var h=d[g];d.e.on(g,function(){h(d,b,arguments[0],arguments[1])})}}return this},l.pt.fileItem=function(a){if(!a)return!1;var b=a.size,c=a.type;if(c.indexOf("image")>-1)var d=window.URL.createObjectURL(a);else var d="/css/skin/default/icon-file.png";var e='<div class="list-item"><img src="'+d+'" /><div class="cover"><em class="uploaded">0k</em>/<em>'+b.size_format(2)+'</em></div><a href="javascript:void(0);" class="del">×</a></div>',f=$(e);return{file:a,o:f,size:b,uploaded:0}},l.pt.doUpload=function(a){var b=this,c=b.form[a],d=c.upload,e=d.process;"file"==c.type&&(e&&(e.abort(),delete d.process),d.preview.children().remove(),d.offset=1,d.files=[]);for(var f=c.e.find("input")[0].files,g=0;g<f.length;g++){var h=b.fileItem(f[g]);if(h.size>5242880)return r.msg(r.lang("file_too_large"));d.preview.append(h.o),h.o.find(".del").click(function(){var e=$(this).parents(".list-item"),f=e.index();"file"==c.type?c.val="":c.val.splice(f,1),e.remove(),d.files.splice(f,1),f+1==d.offset&&(d.process.abort(),delete d.process),f+1<=d.offset&&d.offset--,d.files[d.offset]&&!d.process?b.doUploadProcess(a,d.offset+1):delete d.process}),d.files.push(h)}e||b.doUploadProcess(a,d.offset+1)},l.pt.doUploadProcess=function(a,b){var c=this,d=c.form[a],e=d.upload,f=e.files[b-1];if(!f)return delete e.process,!1;e.offset=b;var g=new FormData;g.append("Filedata",f.file),e.process=$.ajax({type:"POST",url:d.uploadUrl,dataType:"json",crossDomain:!0,processData:!1,contentType:!1,data:g,xhr:function(){var b=$.ajaxSettings.xhr();return b.upload&&b.upload.addEventListener("progress",function(b){c.progressHandling(a,b)},!1),b},success:function(b){"file"==d.type?d.val=b:d.val.push(b),f.o.find(".cover").remove(),e.files[e.offset]?c.doUploadProcess(a,e.offset+1):delete e.process}}).fail(function(a){$.layer.msg("Error:"+a)})},l.pt.progressHandling=function(a,b){var c=this,d=c.form[a],e=d.upload,f=e.files[e.offset-1];b.lengthComputable&&f.o.find(".uploaded").text(b.loaded.size_format(2))},l.pt.formRowHtml=function(a){var b=this,c=b.form[a],d=b.config,e='<div class="layui-form-item">';if("rowhtml"==c.type)return e+='<blockquote class="layui-elem-quote" style="'+(c.style||"")+'">'+c.name+"</blockquote>",e+="</div>";var f="number"==typeof d.cols[1];if(e+='<label class="layui-form-label '+(f?"col-sm-"+d.cols[0]:"fl")+'" style="'+(0==d.cols[0]?"display:none;":"")+(f?"":"width:"+d.cols[0]+";")+("100%"==d.cols[0]||12==d.cols[0]?"text-align:left;":"")+'">'+(c.required?"* ":"")+c.name+(c.notice?'<em class="layui-form-notice">「'+c.notice+"」</em>":"")+": </label>",e+='<div class="layui-input-block '+(f?"col-sm-"+d.cols[1]:"fl")+'" style="'+(f?"":"width:"+d.cols[1])+'">',c.options){var g=[];for(var h in c.options){var i=c.options[h],j=c.option_key?i[c.option_key]:h,i=c.option_val?i[c.option_val]:i;g.push([j,i])}}switch(c.type){case"html":e+=c.val;break;case"text":case"password":c.val=null===c.val?"":c.val,e+='<input name="'+c.key+'" ',c.disabled&&(e+='disabled = "disabled" '),e+='value="'+c.val+'" placeholder="'+c.placeholder+'" autocomplete="off" class="layui-layer-input '+c.key+'" type="'+c.type+'">';break;case"file":case"multifile":c.val=null,e+='<a class="layui-file-btn" href="javascript:void(0);">'+(c.val_format||"Upload ...")+"</a>",e+='<input style="display:none;" class="layui-layer-input '+c.key+'" type="file" '+("multifile"==c.type?'multiple="multiple"':"")+">",e+='<div class="preview"></div>';break;case"textarea":c.val=null===c.val?"":c.val,e+='<textarea class="layui-layer-input '+c.key+'" '+(c.height?'style="height: '+c.height+'"':"")+">"+c.val+"</textarea>";break;case"select":e+='<select class="layui-layer-select '+c.key+'" '+(c.width?'style="width: '+c.width+'"':"")+">";for(var h in g)e+='<option value="'+g[h][0]+'" '+(g[h][0]==c.val?'selected="selected"':"")+">"+g[h][1]+"</option>";e+="</select>";break;case"checkbox":c.val=null===c.val?[]:c.val;for(var h in g){var k=g[h][0],l=g[h][1];e+='<div class="layui-layer-checkbox" '+(c.width?'style="width: '+c.width+'"':"")+'><input type="checkbox" class="'+c.key+'" value="'+k+'" ',e+=(c.val&&c.val.indexOf(k)>-1?'checked="checked"':"")+" /> "+l+"</div>"}break;case"radio":for(var h in g){var k=g[h][0],l=g[h][1];e+='<div class="layui-layer-radio" '+(c.width?'style="width: '+c.width+'"':"")+'><input type="radio" name="layui-name-'+c.key+'" class="'+c.key+'" value="'+k+'" ',e+=(k==c.val?'checked="checked"':"")+" /> "+l+"</div>"}}return e+='<div class="tips"></div>',e+="</div>",e+="</div>"},l.pt.formRowsAdd=function(a){var b=this;for(var c in a)"__"==c.substr(0,2)&&(b.form[c]=a[c])||(b.formRowConfig(c,a[c]),b.formRowInit(c));return this},l.pt.formRowChange=function(a,b){var c=this;return c.form[a]=i.extend(c.form[a],b),c.formRowInit(a),this},l.pt.formRowRemove=function(a){var b=this;return b.form[a].e.remove(),delete b.form[a],this},l.pt.config={type:0,shade:.3,fixed:!0,move:s[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,anim:0,icon:-1,moveType:1,resize:!0,scrollbar:!0,tips:2},l.pt.vessel=function(a,b){var c=this,d=c.index,e=c.config,f=e.zIndex+d,g="object"==typeof e.title,h=e.maxmin&&(1===e.type||2===e.type||5===e.type),j=e.title?'<div class="layui-layer-title" style="'+(g?e.title[1]:"")+'">'+(g?e.title[0]:e.title)+"</div>":"";return e.zIndex=f,b([e.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+d+'" times="'+d+'" style="'+("z-index:"+(f-1)+"; background-color:"+(e.shade[1]||"#000")+"; opacity:"+(e.shade[0]||e.shade)+"; filter:alpha(opacity="+(100*e.shade[0]||100*e.shade)+");")+'"></div>':"",'<div class="'+s[0]+(" layui-layer-"+o.type[e.type])+(0!=e.type&&2!=e.type||e.shade?"":" layui-layer-border")+" "+(e.skin||"")+'" id="'+s[0]+d+'" type="'+o.type[e.type]+'" times="'+d+'" showtime="'+e.time+'" conType="'+(a?"object":"string")+'" style="z-index: '+f+"; width:"+e.area[0]+";height:"+e.area[1]+(e.fixed?"":";position:absolute;")+'">'+(a&&2!=e.type?"":j)+'<div id="'+(e.id||"")+'" class="layui-layer-content'+(0==e.type&&e.icon!==-1?" layui-layer-padding":"")+(3==e.type?" layui-layer-loading"+e.icon:"")+'">'+(0==e.type&&e.icon!==-1?'<i class="layui-layer-ico layui-layer-ico'+e.icon+'"></i>':"")+(1==e.type&&a?"":e.content||"")+'</div><span class="layui-layer-setwin">'+function(){var a=h?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return e.closeBtn&&(a+='<a class="layui-layer-ico '+s[7]+" "+s[7]+(e.title?e.closeBtn:4==e.type?"1":"2")+'" href="javascript:;"></a>'),a}()+"</span>"+(e.btn?function(){var a="";"string"==typeof e.btn&&(e.btn=[e.btn]);for(var b=0,c=e.btn.length;b<c;b++)a+='<a class="'+s[6]+b+(e.btnClass&&e.btnClass[b]?" "+e.btnClass[b]:"")+'">'+e.btn[b]+"</a>";return'<div class="'+s[6]+" layui-layer-btn-"+(e.btnAlign||"")+'">'+a+"</div>"}():"")+(e.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],j,i('<div class="layui-layer-move"></div>')),c},l.pt.creat=function(){var a=this,b=a.config,c=a.index,d=b.content,e="object"==typeof d,f=b.container||i("body");if(!i("#"+b.id)[0]){switch("string"==typeof b.area&&(b.area="auto"===b.area?["",""]:[b.area,""]),b.shift&&(b.anim=b.shift),6==r.ie&&(b.fixed=!1),b.type){case 0:b.btn="btn"in b?b.btn:o.btn[0],r.closeAll("dialog");break;case 2:var d=b.content=e?b.content:[b.content||"http://layer.layui.com","auto"];b.content='<iframe scrolling="'+(b.content[1]||"auto")+'" allowtransparency="true" id="'+s[4]+c+'" name="'+s[4]+c+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+b.content[0]+'"></iframe>';break;case 3:delete b.title,delete b.closeBtn,b.icon===-1&&0===b.icon,r.closeAll("loading");break;case 4:e||(b.content=[b.content,"body"]),b.follow=b.content[1],b.content=b.content[0]+'<i class="layui-layer-TipsG"></i>',delete b.title,b.tips="object"==typeof b.tips?b.tips:[b.tips,!0],b.tipsMore||r.closeAll("tips");case 5:}a.vessel(e,function(g,h,j){b.container||f.append(g[0]),e?function(){2==b.type||4==b.type?function(){i("body").append(g[1])}():function(){d.parents("."+s[0])[0]||(d.data("display",d.css("display")).show().addClass("layui-layer-wrap").wrap(g[1]),i("#"+s[0]+c).find("."+s[5]).before(h))}()}():f.append(g[1]),i(".layui-layer-move")[0]||f.append(o.moveElem=j),a.layero=i("#"+s[0]+c),a.form&&a.layero.children(".layui-layer-content").append(a.form.__form),b.scrollbar||s.html.css("overflow","hidden").attr("layer-full",c),b.container&&f.children().css({position:"relative",top:0,left:0})}).auto(c),2==b.type&&6==r.ie&&a.layero.find("iframe").attr("src",d[0]),4==b.type?a.tips():a.offset(),b.fixed&&n.on("resize",function(){a.offset(),(/^\d+%$/.test(b.area[0])||/^\d+%$/.test(b.area[1]))&&a.auto(c),4==b.type&&a.tips()}),b.time<=0||setTimeout(function(){r.close(a.index)},b.time),a.move().callback(),s.anim[b.anim]&&a.layero.addClass(s.anim[b.anim]).data("anim",!0)}},l.pt.auto=function(a){function b(a){a=e.find(a);var b=f[1]-g-h-2*(0|parseFloat(a.css("padding"))),c=$(window).height()-e.find(".layui-layer-title").outerHeight()-e.find(".layui-layer-btn").outerHeight()-30;b=Math.min(b,c),a.height(f[1]-g-h-2*(0|parseFloat(a.css("padding"))))}var c=this,d=c.config,e=i("#"+s[0]+a);""===d.area[0]&&d.maxWidth>0&&(r.ie&&r.ie<8&&d.btn&&e.width(e.innerWidth()),e.outerWidth()>d.maxWidth&&e.width(d.maxWidth));var f=[e.innerWidth(),e.innerHeight()],g=e.find(s[1]).outerHeight()||0,h=e.find("."+s[6]).outerHeight()||0;switch(d.type){case 2:b("iframe");break;case 5:break;default:""===d.area[1]?d.fixed&&f[1]>=n.height()&&(f[1]=n.height(),b("."+s[5])):b("."+s[5])}return c},l.pt.offset=function(){var a=this,b=a.config,c=a.layero,d=[c.outerWidth(),c.outerHeight()],e="object"==typeof b.offset;a.offsetTop=(n.height()-d[1])/2,a.offsetLeft=(n.width()-d[0])/2,e?(a.offsetTop=b.offset[0],a.offsetLeft=b.offset[1]||a.offsetLeft):"auto"!==b.offset&&("t"===b.offset?a.offsetTop=0:"r"===b.offset?a.offsetLeft=n.width()-d[0]:"b"===b.offset?a.offsetTop=n.height()-d[1]:"l"===b.offset?a.offsetLeft=0:"lt"===b.offset?(a.offsetTop=0,a.offsetLeft=0):"lb"===b.offset?(a.offsetTop=n.height()-d[1],a.offsetLeft=0):"rt"===b.offset?(a.offsetTop=0,a.offsetLeft=n.width()-d[0]):"rb"===b.offset?(a.offsetTop=n.height()-d[1],a.offsetLeft=n.width()-d[0]):a.offsetTop=b.offset),b.fixed||(a.offsetTop=/%$/.test(a.offsetTop)?n.height()*parseFloat(a.offsetTop)/100:parseFloat(a.offsetTop),a.offsetLeft=/%$/.test(a.offsetLeft)?n.width()*parseFloat(a.offsetLeft)/100:parseFloat(a.offsetLeft),a.offsetTop+=n.scrollTop(),a.offsetLeft+=n.scrollLeft()),c.attr("minLeft")&&(a.offsetTop=n.height()-(c.find(s[1]).outerHeight()||0),a.offsetLeft=c.css("left")),c.css({top:a.offsetTop,left:a.offsetLeft})},l.pt.tips=function(){var a=this,b=a.config,c=a.layero,d=[c.outerWidth(),c.outerHeight()],e=i(b.follow);e[0]||(e=i("body"));var f={width:e.outerWidth(),height:e.outerHeight(),top:e.offset().top,left:e.offset().left},g=c.find(".layui-layer-TipsG"),h=b.tips[0];b.tips[1]||g.remove(),f.autoLeft=function(){f.left+d[0]-n.width()>0?(f.tipLeft=f.left+f.width-d[0],g.css({right:12,left:"auto"})):f.tipLeft=f.left},f.where=[function(){f.autoLeft(),f.tipTop=f.top-d[1]-10,g.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",b.tips[1])},function(){f.tipLeft=f.left+f.width+10,f.tipTop=f.top,g.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",b.tips[1])},function(){f.autoLeft(),f.tipTop=f.top+f.height+10,g.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",b.tips[1])},function(){f.tipLeft=f.left-d[0]-10,f.tipTop=f.top,g.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",b.tips[1])}],f.where[h-1](),1===h?f.top-(n.scrollTop()+d[1]+16)<0&&f.where[2]():2===h?n.width()-(f.left+f.width+d[0]+16)>0||f.where[3]():3===h?f.top-n.scrollTop()+f.height+d[1]+16-n.height()>0&&f.where[0]():4===h&&d[0]+16-f.left>0&&f.where[1](),c.find("."+s[5]).css({"background-color":b.tips[1],"padding-right":b.closeBtn?"30px":""}),c.css({left:f.tipLeft-(b.fixed?n.scrollLeft():0),top:f.tipTop-(b.fixed?n.scrollTop():0)})},l.pt.move=function(){var a=this,b=a.config,c=i(document),d=a.layero,e=d.find(b.move),f=d.find(".layui-layer-resize"),g={};return b.move&&e.css("cursor","move"),e.on("mousedown",function(a){a.preventDefault(),b.move&&(g.moveStart=!0,g.offset=[a.clientX-parseFloat(d.css("left")),a.clientY-parseFloat(d.css("top"))],o.moveElem.css("cursor","move").show())}),f.on("mousedown",function(a){a.preventDefault(),g.resizeStart=!0,g.offset=[a.clientX,a.clientY],g.area=[d.outerWidth(),d.outerHeight()],o.moveElem.css("cursor","se-resize").show()}),c.on("mousemove",function(c){if(g.moveStart){var e=c.clientX-g.offset[0],f=c.clientY-g.offset[1],h="fixed"===d.css("position");if(c.preventDefault(),g.stX=h?0:n.scrollLeft(),g.stY=h?0:n.scrollTop(),!b.moveOut){var i=n.width()-d.outerWidth()+g.stX,j=n.height()-d.outerHeight()+g.stY;e<g.stX&&(e=g.stX),e>i&&(e=i),f<g.stY&&(f=g.stY),f>j&&(f=j)}d.css({left:e,top:f})}if(b.resize&&g.resizeStart){var e=c.clientX-g.offset[0],f=c.clientY-g.offset[1];c.preventDefault(),r.style(a.index,{width:g.area[0]+e,height:g.area[1]+f}),g.isResize=!0}}).on("mouseup",function(a){g.moveStart&&(delete g.moveStart,o.moveElem.hide(),b.moveEnd&&b.moveEnd()),g.resizeStart&&(delete g.resizeStart,o.moveElem.hide())}),a},l.pt.callback=function(){function a(){var a=d.cancel&&d.cancel(b.index,c);a===!1||r.close(b.index);
}var b=this,c=b.layero,d=b.config;b.openLayer(),d.success&&(2==d.type?c.find("iframe").on("load",function(){d.success(c,b.index)}):d.success(c,b.index)),6==r.ie&&b.IE6(c),c.find("."+s[6]).children("a").on("click",function(){var a=i(this).index();if(0===a)d.yes?d.yes(b.index,c,b):d.btn1?d.btn1(b.index,c):r.close(b.index);else{var e=d["btn"+(a+1)]&&d["btn"+(a+1)](b.index,c);e===!1||r.close(b.index)}}),c.find("."+s[7]).on("click",a),d.shadeClose&&i("#layui-layer-shade"+b.index).on("click",function(){r.close(b.index)}),c.find(".layui-layer-min").on("click",function(){var a=d.min&&d.min(c);a===!1||r.min(b.index,d)}),c.find(".layui-layer-max").on("click",function(){i(this).hasClass("layui-layer-maxmin")?(r.restore(b.index),d.restore&&d.restore(c)):(r.full(b.index,d),setTimeout(function(){d.full&&d.full(c)},100))}),d.end&&(o.end[b.index]=d.end)},o.reselect=function(){i.each(i("select"),function(a,b){var c=i(this);c.parents("."+s[0])[0]||1==c.attr("layer")&&i("."+s[0]).length<1&&c.removeAttr("layer").show(),c=null})},l.pt.IE6=function(a){i("select").each(function(a,b){var c=i(this);c.parents("."+s[0])[0]||"none"===c.css("display")||c.attr({layer:"1"}).hide(),c=null})},l.pt.openLayer=function(){var a=this;r.zIndex=a.config.zIndex,r.setTop=function(a){var b=function(){r.zIndex++,a.css("z-index",r.zIndex+1)};return r.zIndex=parseInt(a[0].style.zIndex),a.on("mousedown",b),r.zIndex}},o.record=function(a){var b=[a.width(),a.height(),a.position().top,a.position().left+parseFloat(a.css("margin-left"))];a.find(".layui-layer-max").addClass("layui-layer-maxmin"),a.attr({area:b})},o.rescollbar=function(a){s.html.attr("layer-full")==a&&(s.html[0].style.removeProperty?s.html[0].style.removeProperty("overflow"):s.html[0].style.removeAttribute("overflow"),s.html.removeAttr("layer-full"))},e.layer=r,r.getChildFrame=function(a,b){return b=b||i("."+s[4]).attr("times"),i("#"+s[0]+b).find("iframe").contents().find(a)},r.getFrameIndex=function(a){return i("#"+a).parents("."+s[4]).attr("times")},r.iframeAuto=function(a){if(a){var b=r.getChildFrame("html",a).outerHeight(),c=i("#"+s[0]+a),d=c.find(s[1]).outerHeight()||0,e=c.find("."+s[6]).outerHeight()||0;c.css({height:b+d+e}),c.find("iframe").css({height:b})}},r.iframeSrc=function(a,b){i("#"+s[0]+a).find("iframe").attr("src",b)},r.style=function(a,b,c){var d=i("#"+s[0]+a),e=d.find(".layui-layer-content"),f=d.attr("type"),g=d.find(s[1]).outerHeight()||0,h=d.find("."+s[6]).outerHeight()||0;d.attr("minLeft"),f!==o.type[3]&&f!==o.type[4]&&(c||(parseFloat(b.width)<=260&&(b.width=260),parseFloat(b.height)-g-h<=64&&(b.height=64+g+h)),d.css(b),h=d.find("."+s[6]).outerHeight(),f===o.type[2]?d.find("iframe").css({height:parseFloat(b.height)-g-h}):e.css({height:parseFloat(b.height)-g-h}))},r.min=function(a,b){var c=i("#"+s[0]+a),d=c.find(s[1]).outerHeight()||0,e=c.attr("minLeft")||181*o.minIndex+"px",f=c.css("position");o.record(c),o.minLeft[0]&&(e=o.minLeft[0],o.minLeft.shift()),c.attr("position",f),r.style(a,{width:180,height:d,left:e,top:n.height()-d,position:"fixed",overflow:"hidden"},!0),c.find(".layui-layer-min").hide(),"page"===c.attr("type")&&c.find(s[4]).hide(),o.rescollbar(a),c.attr("minLeft")||o.minIndex++,c.attr("minLeft",e)},r.restore=function(a){var b=i("#"+s[0]+a),c=b.attr("area").split(",");b.attr("type"),r.style(a,{width:parseFloat(c[0]),height:parseFloat(c[1]),top:parseFloat(c[2]),left:parseFloat(c[3]),position:b.attr("position"),overflow:"visible"},!0),b.find(".layui-layer-max").removeClass("layui-layer-maxmin"),b.find(".layui-layer-min").show(),"page"===b.attr("type")&&b.find(s[4]).show(),o.rescollbar(a)},r.full=function(a){var b,c=i("#"+s[0]+a);o.record(c),s.html.attr("layer-full")||s.html.css("overflow","hidden").attr("layer-full",a),clearTimeout(b),b=setTimeout(function(){var b="fixed"===c.css("position");r.style(a,{top:b?0:n.scrollTop(),left:b?0:n.scrollLeft(),width:n.width(),height:n.height()},!0),c.find(".layui-layer-min").hide()},100)},r.title=function(a,b){var c=i("#"+s[0]+(b||r.index)).find(s[1]);c.html(a)},r.close=function(a,b){var c=i("#"+s[0]+a),d=c.attr("type"),e="layer-anim-close";if(c[0]){var f="layui-layer-wrap",g=function(){if(d===o.type[1]&&"object"===c.attr("conType")){c.children(":not(."+s[5]+")").remove();for(var b=c.find("."+f),e=0;e<2;e++)b.unwrap();b.css("display",b.data("display")).removeClass(f)}else{if(d===o.type[2])try{var g=i("#"+s[4]+a)[0];g.contentWindow.document.write(""),g.contentWindow.close(),c.find("."+s[5])[0].removeChild(g)}catch(h){}c[0].innerHTML="",c.remove()}"function"==typeof o.end[a]&&o.end[a](),delete o.end[a]};c.data("anim")&&c.addClass(e),i("#layui-layer-moves, #layui-layer-shade"+a).remove(),6==r.ie&&o.reselect(),o.rescollbar(a),c.attr("minLeft")&&(o.minIndex--,o.minLeft.push(c.attr("minLeft"))),0===b&&g(),setTimeout(function(){g()},r.ie&&r.ie<10||!c.data("anim")?0:200)}},r.closeAll=function(a){i.each(i("."+s[0]),function(){var b=i(this),c=a?b.attr("type")===a:1;c&&r.close(b.attr("times")),c=null})};var f=r.cache||{},c=function(a){return f.skin?" "+f.skin+" "+f.skin+"-"+a:""};r.form=function(a,b){a=a||{},"function"==typeof a&&(b=a),"string"==typeof a&&(a={title:a}),a.area;var c;return r.open(i.extend({type:5,autoClose:!0,btn:[r.lang("accept"),r.lang("cancel")],cols:["30%","70%"],maxWidth:n.width(),success:function(a){c=a.find(".layui-layer-input").eq(0),c.focus()},resize:!1,yes:function(a,d,e){var f=e.formData();f?(b&&b(f,a,c),e.config.autoClose&&r.close(a)):r.alert(r.lang("fill_options"))}},a))},r.reform=function(a,b,c){b=b||{},"string"==typeof a&&(a=$(a));var d;return r.open(i.extend({type:5,container:a,autoClose:!1,offset:"lt",closeBtn:!1,btn:[r.lang("accept"),r.lang("cancel")],cols:[4,8],maxWidth:n.width(),success:function(a){d=a.find(".layui-layer-input").eq(0),d.focus()},resize:!1,yes:function(a,b,e){var f=e.formData();f?(c&&c(f,a,d),e.config.autoClose&&r.close(a)):r.alert(r.lang("fill_options"))}},b))},r.prompt=function(a,b){var d="";if(a=a||{},"function"==typeof a&&(b=a),a.area){var e=a.area;d='style="width: '+e[0]+"; height: "+e[1]+';"',delete a.area}var f,g=2==a.formType?'<textarea class="layui-layer-input"'+d+">"+(a.value||"")+"</textarea>":function(){return'<input type="'+(1==a.formType?"password":"text")+'" class="layui-layer-input" value="'+(a.value||"")+'">'}();return r.open(i.extend({type:1,btn:[r.lang("accept"),r.lang("cancel")],content:g,skin:"layui-layer-prompt"+c("prompt"),maxWidth:n.width(),success:function(a){f=a.find(".layui-layer-input"),f.focus()},resize:!1,yes:function(c){var d=f.val();""===d?f.focus():d.length>(a.maxlength||500)?r.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(a.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",f,{tips:1}):b&&b(d,c,f)}},a))},r.tab=function(a){a=a||{};var b=a.tab||{};return r.open(i.extend({type:1,skin:"layui-layer-tab"+c("tab"),resize:!1,title:function(){var a=b.length,c=1,d="";if(a>0)for(d='<span class="layui-layer-tabnow">'+b[0].title+"</span>";c<a;c++)d+="<span>"+b[c].title+"</span>";return d}(),content:'<ul class="layui-layer-tabmain">'+function(){var a=b.length,c=1,d="";if(a>0)for(d='<li class="layui-layer-tabli xubox_tab_layer">'+(b[0].content||"no content")+"</li>";c<a;c++)d+='<li class="layui-layer-tabli">'+(b[c].content||"no  content")+"</li>";return d}()+"</ul>",success:function(b){var c=b.find(".layui-layer-title").children(),d=b.find(".layui-layer-tabmain").children();c.on("mousedown",function(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0;var c=i(this),e=c.index();c.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow"),d.eq(e).show().siblings().hide(),"function"==typeof a.change&&a.change(e)})}},a))},r.photos=function(a,b,d){function f(a,b,c){var d=new Image;return d.src=a,d.complete?b(d):(d.onload=function(){d.onload=null,b(d)},void(d.onerror=function(a){d.onerror=null,c(a)}))}var g={};if(a=a||{},a.photos){var h=a.photos.constructor===Object,j=h?a.photos:{},k=j.data||[],l=j.start||0;if(g.imgIndex=(0|l)+1,a.img=a.img||"img",h){if(0===k.length)return r.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}else{var m=i(a.photos),n=function(){k=[],m.find(a.img).each(function(a){var b=i(this);b.attr("layer-index",a),k.push({alt:b.attr("alt"),pid:b.attr("layer-pid"),src:b.attr("layer-src")||b.attr("src"),thumb:b.attr("src")})})};if(n(),0===k.length)return;if(b||m.on("click",a.img,function(){var b=i(this),c=b.attr("layer-index");r.photos(i.extend(a,{photos:{start:c,data:k,tab:a.tab},full:a.full}),!0),n()}),!b)return}g.imgprev=function(a){g.imgIndex--,g.imgIndex<1&&(g.imgIndex=k.length),g.tabimg(a)},g.imgnext=function(a,b){g.imgIndex++,g.imgIndex>k.length&&(g.imgIndex=1,b)||g.tabimg(a)},g.keyup=function(a){if(!g.end){var b=a.keyCode;a.preventDefault(),37===b?g.imgprev(!0):39===b?g.imgnext(!0):27===b&&r.close(g.index)}},g.tabimg=function(b){k.length<=1||(j.start=g.imgIndex-1,r.close(g.index),r.photos(a,!0,b))},g.event=function(){g.bigimg.hover(function(){g.imgsee.show()},function(){g.imgsee.hide()}),g.bigimg.find(".layui-layer-imgprev").on("click",function(a){a.preventDefault(),g.imgprev()}),g.bigimg.find(".layui-layer-imgnext").on("click",function(a){a.preventDefault(),g.imgnext()}),i(document).on("keyup",g.keyup)},g.loadi=r.load(1,{shade:!("shade"in a)&&.9,scrollbar:!1}),f(k[l].src,function(b){r.close(g.loadi),g.index=r.open(i.extend({type:1,area:function(){var c=[b.width,b.height],d=[i(e).width()-100,i(e).height()-100];if(!a.full&&(c[0]>d[0]||c[1]>d[1])){var f=[c[0]/d[0],c[1]/d[1]];f[0]>f[1]?(c[0]=c[0]/f[0],c[1]=c[1]/f[0]):f[0]<f[1]&&(c[0]=c[0]/f[1],c[1]=c[1]/f[1])}return[c[0]+"px",c[1]+"px"]}(),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,anim:5*Math.random()|0,skin:"layui-layer-photos"+c("photos"),content:'<div class="layui-layer-phimg"><img src="'+k[l].src+'" alt="'+(k[l].alt||"")+'" layer-pid="'+k[l].pid+'"><div class="layui-layer-imgsee">'+(k.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(d?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(k[l].alt||"")+"</a><em>"+g.imgIndex+"/"+k.length+"</em></span></div></div></div>",success:function(b,c){g.bigimg=b.find(".layui-layer-phimg"),g.imgsee=b.find(".layui-layer-imguide,.layui-layer-imgbar"),g.event(b),a.tab&&a.tab(k[l],b)},end:function(){g.end=!0,i(document).off("keyup",g.keyup)}},a))},function(){r.close(g.loadi),r.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){k.length>1&&g.imgnext(!0,!0)}})})}},o.run=function(a){i=a,n=i(e),s.html=i("html"),r.open=function(a){var b=new l(a);return b.index}},e.layui&&layui.define?(r.ready(),layui.define("jquery",function(a){r.path=layui.cache.dir,o.run(layui.jquery),e.layer=r,a("layer",r)})):"function"==typeof define?define(["jquery"],function(){return o.run(e.jQuery),r}):function(){"object"==typeof Lang&&e.jQuery.extend(o.lang,Lang),o.run(e.jQuery),r.ready()}(),function(a,b){a.fn.extend({tips:function(a,c){c=i.extend({tips:[1,"#3595CC"],time:4e3},c||{}),b.tips(a,this,c)},layerform:function(c,d){var c=b.reform(a(this),c,d)}}),a.layer=b}(e.jQuery,r)}(window),function(a,b){"use strict";var c=b.ajax,d=null;b.ajax=function(a,e){if("object"==typeof a&&(e=a,a=void 0),"script"==e.dataType||"jsonp"==e.dataType)return c(a,e);var f=void 0!=e.success?e.success:function(){};return e=b.extend({beforeSend:function(){e.__silent||e.data&&e.data.__silent||(d=b.layer.load(0))},complete:function(){e.__silent||e.data&&e.data.__silent||b.layer.close(d)},error:function(a,c,d){b.layer.msg("Page Error: "+c)}},e,{success:function(a,c,d){var e,g;switch(!0){case"0"==a.status:e=a.info,g=a.url,"object"==typeof e&&(g=e.redirect_url,e=e.msg),b.layer.alert(e,function(a){g&&b.page.openUrl(g),b.layer.close(a)}),g&&setTimeout(function(){b.page.openUrl(g)},150);break;case 1==a.status:default:if(e="object"==typeof a?a.info:a,"object"==typeof e)var g=e.redirect_url;if(!g)return f(e,c,d);e=e.msg,g&&setTimeout(function(){b.page.openUrl(g)},150)}}}),c(a,e)},b.fn.extend({scrollTo:function(){var a=b(this).offset();b("html,body").scrollTop(a.top-200)},selectCustomer:function(){b(this).each(function(a,c){var d=b(this),e=d.val(),f=d.find('option[value="'+e+'"]'),g=f.length>0?f.html():"&nbsp;",h=b(this).attr("class"),i=b(this).data();d[0].tagName.toLowerCase();"undefined"==typeof i&&(i={}),d.parents(".ui-select").length>0&&b(this).siblings().remove().end().unwrap();var j='<div class="ui-select';j+=" "+h,j+='"';for(var k in i)j+=" data-"+k+'="'+i[k]+'"';j+='><div class="ui-btn"><span data-val="'+e+'">'+g+'</span><i class="dragon-ico-jiantou"></i></div>',j+='<ul class="ui-options auto-hide-layer">',i.filter&&(j+='<li class="search-area"><input type="text" class="keyword form-control" value="" placeholder="'+i.placeholder+'" /></li>'),d.find("option").each(function(){var a=b(this).val(),c=b(this).text();j+='<li class="ui-option" data-key="'+a+'" data-val="'+c+'">'+c+"</li>"}),j+="</ul>",j+="</div>";var l=b(j);l.click(function(){return b(".ui-select").not(this).find(".ui-options").hide(),!1}),l.find(".ui-btn").click(function(){l.find("ul").toggle()}),l.find(".ui-option").click(function(){var a=b(this).data("key"),c=b(this).data("val");l.find(".ui-btn span").text(c),d.val(a).change(),b(this).parent(".ui-options").hide()}),i.filter&&l.find(".keyword").on("keyup input propertychange",function(){var a=b(this).val().trim().toLowerCase();l.find(".ui-option").each(function(){b(this).data("val").toLowerCase().indexOf(a)>-1?b(this).show():b(this).hide()})}),b(this).after(l).appendTo(l),b(this).change(function(){d.siblings(".ui-btn span").html(b(this).children("option:checked").html())})})},collapseParse:function(){var a=b(this);if(0!=a.length){var c=(a.data("l")||150,a.data("default")||!1),d=a.html(),e="";a.html(d+e),c&&("less"==c?a.find(".full-text").hide().end().find(".short-text").show():a.find(".full-text").show().end().find(".short-text").hide()),a.find(".expend").click(function(){a.find(".short-text").hide().end().find(".full-text").show()}),a.find(".collapse").click(function(){a.find(".short-text").show().end().find(".full-text").hide()})}}});var e=function(c,d){var e=this;e.config=d||{},e.user={},e.body=b("body"),e.title=b("title"),e.keywords=b('meta[name="keywords"]'),e.description=b('meta[name="description"]'),e.container=b("body"),e.parseContent=e.body.children(".container"),e.c=null,e.target=null,e.pushState=!0,e.loadingIndex=0,e.js={},e.request={},e.response={html:"",title:"",action:""},d["extends"]&&b.extend(e,d["extends"]),b(document).on("click",".user-center2",function(){return b.page.user.uid?b.page.openUrl("/Ucenter.html"):void b.layer.form({title:"User Login",area:["400px"],cols:[0,"100%"],btn:["Sign in","Close"],form:{usname:"Email|p=Email...|required",passwd:"Password|t=password|p=Passwd...|required",signup:{name:"Do not have an account ? <strong>Click Here</strong>",type:"rowhtml",style:"text-align:right; float:right; border:0 !important; color: #136;",click:function(){location.href="/Signup.html"}}}},function(a){b.post("/Signin.html",a,function(){b.layer.alert("Login Success!"),location.reload()})})}),e.userInit(c),e.request={method:"GET",data:{},url:a.location.href},a.history.replaceState(e.request,e.title.html(),e.request.url),a.onpopstate=function(a){var b=a.state;b&&e.openUrl(b.url,b.method,b.data,!1)},e.parse()};e.pt=e.prototype,e.pt.userInit=function(a){var b=this;return b.user=a||{},this},e.pt.setResponse=function(a){var c=this;c.response.html=a,c.c=b(c.response.html),c.parseContent=c.c,c.target&&c.target.length?c.target.html(c.c):c.container.html(c.c)},e.pt.setContent=function(a){var c=this;c.c="string"==typeof a?b(a):a},e.pt.parse=function(){var a=this;a.response.title=a.parseContent.attr("data-title")||"",a.response.keywords=a.parseContent.attr("data-keywords")||"",a.response.description=a.parseContent.attr("data-description")||"",a.response.action=a.parseContent.attr("data-action")||"","GET"==a.request.method&&a.parseContent.data("url")&&(a.url=a.parseContent.data("url")+"");var c=a.response.action,d=a.parseContent.find('script[data-base="true"]');if(d.length>0)if(a.js[c]===!0)d.remove();else{var e=d.html();e="(function (window) {"+e+"})(window);",d.html(e),a.js[c]=!0}return a.labelReplace(),a.parseContent.swiper(),a.collapseParse(),a.pushState&&b("body, html").scrollTop(0),a.pageSetting(),a},e.pt.pageSetting=function(){var b=this;b.pushState&&(a.history.pushState(b.request,b.response.title,b.url),b.title.html(b.response.title),b.keywords.attr("content",b.response.keywords),b.description.attr("content",b.response.description))},e.pt.labelReplace=function(){var a=this;return 0==a.parseContent.find(".no_replace").length&&a.parseContent.find("select").selectCustomer(),a},e.pt.collapseParse=function(){var a=this;a.parseContent.find(".collapse-area").each(function(){b(this).collapseParse()})},e.pt.openUrl=function(c,d,e,f){var g=this;c&&"undefined"==typeof d&&"undefined"==typeof e?a.location.href=c:("undefined"==typeof d&&(d="GET"),"object"==typeof d&&(e=d,d="GET"),"undefined"==typeof e&&(e={}),g.request={method:d,data:e,url:c},g.url=c,"GET"==d&&(g.url=http_build_query(e,c)),g.parseContent=g.c,g.pushState=f!==!1,b.ajax(b.extend({url:c,type:d,data:e,beforeSend:g.loading,complete:g.complete,error:g.error,success:function(a){g.setResponse(a),g.parse()}},b.isPlainObject(c)&&c)))},e.pt.loading=function(){var a=this;b.layer.close(a.loadingIndex),a.loadingIndex=b.layer.load(0)},e.pt.complete=function(){var a=this;a.pushState=!0,b.layer.close(a.loadingIndex)},e.pt.error=function(a,b,c){},b(function(){b.page=new e(userInfo,{gameConfigs:gameConfigs,"extends":{cartShow:function(a){var c="";for(var d in a.details){var e=a.details[d];for(var f in e){var g=e[f],h=g.title,i=a.currency+" "+(g.price_discount_format||g.price_format),j=g.icon_format,k=g.num;g.coin;switch(d){case"new_gold":case"new_silver":h=g.game_format+" "+g.game_area_format+" "+g.title,i=a.currency+" "+(g.off_price?g.off_price_format:g.price_format),k=g.num}h=h?h.strCut(55):"",c+='<li><span class="img">'+(j?'<img src="'+j+'">':"")+'</span><span class="title-game">'+(h||"")+" × "+(k||"")+'<p><i class="red">'+i+'</i></p></span> <span data-key="'+f+'" data-type="'+d+'" class="remove dels dragon-ico-bin"></span></li>'}}if("undefined"==typeof a.amount)return!1;c+='<span class="sum"><i class="tile">Sum</i>'+a.currency+a.amount.number_format(2)+"</span>";var l=b(".LAY_Cart .view-cart");0==a.total?(c="<span>Your Shopping Cart Is Empty</span>",l.hide()):l.css("display","inline-block"),setCookie("cartHtml",c),b(".cart-total").html(a.total),b(".cart-amount").html(a.currency+a.amount.number_format(2))},sellCartShow:function(a){var b="";for(var c in a.details){var d=a.details[c];for(var e in d){var f=d[e],g=f.title,h=a.currency+" "+f.price_format,i=f.icon_format,j=f.num;f.coin;switch(c){case"new_gold":g=f.title,h=a.currency+" "+f.price_format,j=f.group+" "+f.unit+" * "+f.num}g=g?g.strCut(45):"";var k=f.price_format*f.num;b+='<tr data-key="'+e+'" data-type="'+c+'" class="line"><td class="col-md-2">'+f.game_area_format+'</td><td class="col-md-4"><img class="ico-img" src="'+(i?i:"")+'" alt="'+(g||"")+'" title="'+(g||"")+'">'+(g||"")+'</td><td class="red col-md-2">'+h+'</td><td class="col-md-1">X'+j+'</td><td class="red col-md-2">'+a.currency+k.number_format(2)+'</td><td class="col-md-1"><span class="down">×</span></td></tr>'}}return a.total>0&&(b+='<tr><td colspan="6" class="text-right">Totai Amount: <span data="'+a.amount.number_format(2)+'" class="price">'+a.currency+a.amount.number_format(2)+"</span></td></tr>",b+='<tr><td colspan="6" class="text-center"><button class="btn butt" >Items For Cash</button> <br> You can submit more items for one transation.thanks</td></tr>'),0==a.total&&(b='<tr><td colspan="6" style="height:100px;" class="text-center"><img src="/images/no-sell.jpg"></td></tr>'),b},cartAnimate:function(a){var c=b("a.cart .cart-total:visible"),d=a.closest(".list-item,.list-account,.rs-list-gold").find("img").eq(0);if(d){var e=d.clone().offset({top:d.offset().top,left:d.offset().left}).css({opacity:"0.5",position:"absolute",height:"30px",width:"30px","z-index":"100"}).appendTo(b("body")).animate({top:c.offset().top+5,left:c.offset().left+5,width:25,height:25},100,"easeInOutExpo");e.animate({width:0,height:0},function(){})}},cartStat:function(a){b(".cart-total").html(a.total),b(".cart-amount").html(a.currency+a.amount.number_format(2))},cartClear:function(){var a=this;b.post("/Cart/clear.html",function(b){a.cartShow(b)})}}})})}(window,jQuery),function(){var a=jQuery.event.special,b="D"+ +new Date,c="D"+(+new Date+1);a.scrollstart={setup:function(){var c,d=function(b){var d=this,e=arguments;c?clearTimeout(c):(b.type="scrollstart",jQuery.event.dispatch.apply(d,e)),c=setTimeout(function(){c=null},a.scrollstop.latency)};jQuery(this).bind("scroll",d).data(b,d)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(b))}},a.scrollstop={latency:300,setup:function(){var b,d=function(c){var d=this,e=arguments;b&&clearTimeout(b),b=setTimeout(function(){b=null,c.type="scrollstop",jQuery.event.dispatch.apply(d,e)},a.scrollstop.latency)};jQuery(this).bind("scroll",d).data(c,d)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(c))}}}(),function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function g(){var b=0;i.each(function(){var c=a(this);if(!j.skip_invisible||c.is(":visible"))if(a.abovethetop(this,j)||a.leftofbegin(this,j));else if(a.belowthefold(this,j)||a.rightoffold(this,j)){if(++b>j.failure_limit)return!1}else c.trigger("appear"),b=0})}var h,i=this,j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(j,f)),h=j.container===d||j.container===b?e:a(j.container),0===j.event.indexOf("scroll")&&h.bind(j.event,function(){return g()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,c.attr("src")!==d&&c.attr("src")!==!1||c.is("img")&&c.attr("src",j.placeholder),c.one("appear",function(){if(!this.loaded){if(j.appear){var d=i.length;j.appear.call(b,d,j)}a("<img />").bind("load",function(){var d=c.attr("data-"+j.data_attribute);c.hide(),c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')"),c[j.effect](j.effect_speed),b.loaded=!0;var e=a.grep(i,function(a){return!a.loaded});if(i=a(e),j.load){var f=i.length;j.load.call(b,f,j)}}).attr("src",c.attr("data-"+j.data_attribute))}}),0!==j.event.indexOf("scroll")&&c.bind(j.event,function(){b.loaded||c.trigger("appear")})}),e.bind("resize",function(){g()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&i.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){g()}),this},a.belowthefold=function(c,f){var g;return g=f.container===d||f.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e.scrollLeft():a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollTop():a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollLeft():a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document),$(function(){function a(a){var b=$(".jq-quick_buy input.number"),c=b.val().replace(/[^\d\.]/g,"").toFloat(),d=b.data("price"),e=b.attr("data-list"),f=0,g=a.attr("off"),h=a.attr("free");if(void 0!==e){if(e=$.parseJSON(e),void 0!==e[c]){f=e[c].price*currency.rate;var i=e[c].discount;g=100-i,h=e[c].give}else{var j=0,k=0;for(var l in e){if(k=100*e[l].price/(l*e[l].discount),k=k>0?k.toFixed(5):0,l>c)break;j=l}if(j>0){k=k>d?k:d;var i=e[j].discount;g=100-i,h=e[j].give,f=k*c*i*.01*currency.rate}}g=g?g+"% OFF":"",h=h?"+"+h+"K Free":""}f||(f=d*c*currency.rate),b.val(c);var m=b.closest(".jq-gold_random"),n=f.number_format(2);m.find(".jq-price-box strong").val(n).html(n),m.find(".jq-num span").val(c).html(c),m.find(".jq-off").html(g?" <i>"+g+"</i> ":""),m.find(".jq-free").html(h),m.find(".add-to-cart").attr("data-group",c)}function b(){var a=0;if($(".cart-list li.order-row").each(function(b,c){var d=$(this),e=d.find(".input-num").val().toInt(),f=d.find(".price").attr("data-discount").toFloat(),g=e*f;d.find(".price").html(currency.sign+g.number_format(2)),a+=g}),$(".cart-list .total-amount .gray").html(currency.sign+a.number_format(2)),e(),$(".tian_dada .add-options-input").length){var b=0,c=0,d=0,f="";if($(".cart-list .list-item").each(function(){f||(f=$(this).attr("unit")),b=$(this).attr("quantity"),c=$(this).find(".item-num").val(),d+=b*c}),d){var g="M"==f?1e6:1e3;$(".tian_dada .add-options-input").val(d*g)}}}function c(){return userInfo.uid?configVip[userInfo.vip_level].discount/100:1}function d(){var a=$(".use-points .checked").prop("checked");return a?$(".use-points .total-points").val().toInt()/pointsDiscountRate:0}function e(a){var b=$(".discount-word").find('input:radio[name="discountType"]:checked').val(),e=1,f=1,g=!1;if("discountVip"==b)e=c();else if("discountWu"==b)e=wuDiscount/100;else if("discountCode"==b){var h=$(".discount-code").val().toLowerCase();void 0===codeDiscount[h]||0!=codeDiscount[h].site_id&&codeDiscount[h].site_id!=cartInfo.site_id||0!=codeDiscount[h].gid&&codeDiscount[h].gid!=cartInfo.gid||h.indexOf("vip-")!=-1||(e=codeDiscount[h].discount/100,f=codeDiscount[h].type,g=!0),a==b&&(g?($(".use-points-box").hide(),alert("Apply Successfully!")):($(".use-points-box").show(),alert(" Invalid Code!")))}var i=$(".jq-total-amount").html().replace(/[^\d\.]/g,"").toFloat();if(1==f){var j=i;j*=e,$(".after-discount").text(currencyConfig.sign+" "+j.number_format(2)),j-=d();var k=$(".payment-method").find('input:radio[name="paytype"]:checked').attr("data-fee");if(k=k?k.split("|"):[],k[1]){var l=0,m="";if(1==k[0]?l=k[1]*currencyConfig.rate:2==k[0]?l=j*k[1]:3==k[0]&&(l=j*k[2]/100,l+=k[1]*currencyConfig.rate),j+=l,m=currencyConfig.sign+" "+l.number_format(2),$("div.order-view li.cart-fee").length<=0){var n='<li class="row box cart-fee"><div class="total-amount col-lg-12" colspan="2"><em>Payment Fee: </em><em  class="money finally-fee m-l-15 amount">'+m+"</em></div></li>";$("div.order-view li.cart-amounts").before(n)}else $("div.order-view li.cart-fee .finally-fee").text(m)}else $("div.order-view li.cart-fee").remove();$(".finally-discount").text(currencyConfig.sign+" "+j.number_format(2))}else $(".order-view .order-row").each(function(){var a=$(this).attr("quantity"),b=a*e,c=$(this).attr("unit"),d="<b>+"+Math.round(b)+c+" Coupon</b>";$(this).find(".content").append(d)})}function f(){var a=0;$(".item-quick-buy .list .item-row").each(function(b,c){var d=$(this).find(".gold").val().toInt(),e=$(this).find(".silver").val().toInt(),f=$(this).find(".copper").val().toInt(),g=(d+.01*e+1e-4*f)*rate;a+=g,$(this).find(".price").text(g.money_format(2))}),$(".item-quick-buy .total-amount .amount").text(a.money_format(2))}function g(){var a=$(".account-pic").innerWidth(),b=$(".account-pic").innerHeight(),c=$(".account-pic").find("img:visible").width(),d=$(".account-pic").find("img:visible").height(),e=(b-d)/2,f=(a-c)/2;$(".account-pic img:visible").css({top:e,left:f})}$(document).on("click",function(){$(".auto-hide-layer").hide()}),$(document).on("keypress","form .form-control",function(a){var b=$(this).parents("form"),c=b.find(".form-control").index($(this));13==a.charCode&&(a.preventDefault(),b.find(".form-control").eq(c+1).focus())}),$(document).on("keyup input propertychange",".filter-input",function(){var a=$(this).val().trim().toLowerCase(),b=$(this).data("target");$(".filter-container"+b).children(":not(.filter-ignore)").each(function(){$(this).removeClass("hide");var b=$(this).data("title").toLowerCase();a&&b.indexOf(a)&&$(this).addClass("hide")})}),$(document).on("focus",".page-left .filter-input",function(){$(".page-left").addClass("expand")}),$(document).on("click",".page-left .close",function(){$(".page-left").removeClass("expand")}),$(document).on("click",".check-list .check-all",function(){$(this).parents(".check-list").find(".check-item").prop("checked",$(this).prop("checked"))}),$(document).on("click",".check-list .check-item",function(){var a=$(this).parents(".check-list"),b=a.find(".check-item:checked").length==a.find(".check-item").length;a.find(".check-all").prop("checked",b)}),$(document).on("click",".signout",function(){$.post("/Signout.html",function(){$.layer.alert("Sign out successfully!"),location.href="/"})}),$(document).on("change","select.currency",function(){var a=$(this).val(),b=location.href;setCookie("currency",a),location.href=b}),$(document).on("change","select.package-cid",function(){var a=$(this).val();$.page.openUrl(document.location.href,{package_cid:a,page:1})}),$(document).on("change","select.account-type",function(){var a=$(this).val();$.page.openUrl(document.location.href,{type:a,page:1})}),$(document).on("change",".item-category select",function(){var a=$(this).data("href");if(void 0===a){a=document.location.href;var b=$(this).parents(".screen-condition").find(".change-area select option:selected").data("aid"),c=$(this).parents(".screen-condition").find(".item-category select, .package-category select").val();a+="?aid="+b+"&item_cid="+c}$.page.openUrl(a,"GET",{},!1)}),$(document).on("change",".package-category select",function(){var a=$(this).data("href");if(void 0===a){var a=document.location.href,b=$(this).parents(".screen-condition").find(".change-area select option:selected").data("aid"),c=$(this).parents(".screen-condition").find(".item-category select, .package-category select").val();a+="?aid="+b+"&package_cid="+c}$.page.openUrl(a,"GET",{},!1)}),$(document).on("click",".linklist-box li a,.item-category a",function(){$(".item-category a").removeClass("current");var a=$(this).attr("type"),b=$(".gold-choose-list li.current:visible").text(),c="";2==a&&(c="?letter="+b),$(this).addClass("current");var d=$(this).data("href")+c;$.page.openUrl(d,"GET",{},!1)}),$(document).on("keyup",".jq-items-search input",function(a){13==a.keyCode&&$(this).siblings(".search-button").click()}),$(document).on("click",".jq-items-search .search-button",function(){var a=$(this).data("url"),b=encodeURI($(this).parents(".jq-items-search").find("input.form-control").val()),c=$(this).parents(".screen-condition").find(".item-category select, .package-category select").val(),d=$(this).data("type");"undefined"==typeof c&&(c=$(".item-category a.current").attr("data"));
var e=a.replace(/\.html/,"");0!=c&&(e+="/"+d+"/"+c),""!=b&&(e+="/keyword/"+b),e+=".html",$.page.openUrl(e,"GET",{},!1)}),$(document).on("change",".rocket .list-item select",function(){var a=$(this).val().split("*");if(a[1]>0){var b=a[1]*currencyConfig.rate;b=b.number_format(2),$(this).parents(".list-item").find(".goodsPriceBox").html(b),$(this).parents(".list-item").find(".add-to-cart").attr("data-attr",a[0])}}),$(document).on("click",".silver .explain .change-product",function(){var a=$(this).data("product");$(this).addClass("current").siblings(".change-product").removeClass("current").parents(".silver").find("."+a).show().siblings().hide()}),$(document).on("change","select.change-area",function(){var a=$(this).parents("div.change-area").data("game").ucFirst(),b=$(this).parents("div.change-area").data("type").ucFirst(),c=$(this).val().ucFirst(),d="/"+a+"-"+c+"/"+b+".html";$.page.openUrl(d,"GET",{},!1)}),$(document).on("click",".show-item-tags a",function(){$(this).closest("div").find("a").removeClass("current"),$(this).addClass("current");var a=$(".show-item-tags a.current"),b=[];$.each(a,function(){b.push($(this).attr("data"))}),b=b.join(","),url="?tags="+b,$.page.openUrl(url,"GET",{},!1)}),$(document).on("change","select.change-sell-game,select.change-sell-area,select.change-sell-category",function(){var a=$("select.change-sell-game").val(),b=$("select.change-sell-area").val(),c=$("select.change-sell-category").val(),d="?gid="+a+"&aid="+b+"&item_cid="+c;$.page.openUrl(d)}),$(document).on("change",".layui-layer.layui-layer-form select.gid, .quick-buy select.choose-game",function(){var a=$(this).parents(".layui-layer.layui-layer-form, .quick-buy"),b=$(this).val(),c="",d=gameConfigs[b];for(var e in d.servers)for(var f in d.servers[e].areas){var g=d.servers[e].areas[f];c+='<option value="'+f+'">'+g.title+"</option>"}a.find("select.aid, select.choose-area").html(c),a.find("select.choose-area").selectCustomer(),a.find("select.aid, select.choose-area").change()}),$(document).on("change",".layui-layer.layui-layer-form select.aid, .quick-buy select.choose-area",function(){var a=$(this).val(),b=$(this).parents(".layui-layer.layui-layer-form, .quick-buy"),c=b.find("select.gid, select.choose-game").val();$.get("/Gold/data.html",{gid:c,aid:a},function(a){var c="";for(var d in a.goods_list){var e=a.goods_list[d];c+=e.give?'<option value="'+e.num+'" data-id="'+a.id+'" data-price="'+e.price_format+'">'+e.num+" "+a.unit+" "+a.title+" +"+e.give+a.unit+" Free</option>":'<option value="'+e.num+'" data-id="'+a.id+'" data-price="'+e.price_format+'">'+e.num+" "+a.unit+" "+a.title+"</option>"}b.find("select.goods, select.choose-goods").html(c),b.find("select.choose-goods").selectCustomer(),b.find("select.goods, select.choose-goods").change()})}),$(document).on("change",".layui-layer.layui-layer-form select.goods, .quick-buy select.choose-goods",function(){var a=$(this).find("option:selected").data("id"),b=$(this).find("option:selected").data("price"),c=$(this).val(),d=$(this).parents(".layui-layer.layui-layer-form, .quick-buy"),e={"data-id":a,"data-group":c,"data-type":"new_gold"};b?d.find(".price, .action .price").val(currency.sign+" "+b):d.find(".price, .action .price").val(""),d.find(".action .buy .add-to-cart, .layui-layer-btn0").attr(e)}),$(document).on("click",".jq-quick-numer",function(a){$(this).siblings(".js-gold-list").show(),a.stopPropagation()}),$(document).on("keydown",".jq-quick-numer",function(a){$(this).siblings(".js-gold-list").hide(),a.stopPropagation()}),$(document).on("click",".js-gold-list .item-list",function(){var b=$(this).data("group");$(this).parent().siblings(".jq-quick-numer").val(b).html(b),$(this).parent().hide(),a($(this))}),$(document).on("keyup change",".jq-quick_buy input.number",function(b){var c=$(".jq-quick_buy input.number"),d=c.val().replace(/[^\d\.]/g,"").toFloat();if("change"==b.type){var e=c.data("max"),f=c.data("min");f=isNaN(f)?1:parseInt(f),e=isNaN(e)?1e6:parseInt(e),f>e&&(f+=e,e=f-e),d=Math.max(f,Math.min(e,d))}$(this).val(d),a($(this))});var h=0;$("body").on("click",".reviews .add.star i",function(){h=$(this).index(".reviews .star i"),$(".reviews .star i:lt("+(h+1)+")").css("background","#35c259"),$(".reviews .star i:gt("+h+")").css("background","#515482"),h+=1}),$("body").on("click",".reviews .action .submit",function(){if("Guestbook"==controller)var a=newsEditor.html();else var a=$(".reviews textarea.review").val(),b=$(".reviews .input-area").attr("title");$.post("/Guestbook/guestbookAdd.html",{content:a,star:h,newid:b},function(a){"Guestbook"==controller?window.location.reload():($.layer.msg("Comment Succeed!"),window.location.reload())})}),$(document).on("mouseover",".cartShowBtn",function(){var a=getCookie("cartHtml");a=a.length>0?a:"<span>Your Shopping Cart Is Empty</span>",$(".LAY_Cart ul").html(a).parent().show(),$(".LAY_Cart ul li").length>0&&$(".LAY_Cart span.hide").removeClass("hide")}),$(document).on("mouseleave",".cartShowBtn",function(){$(".LAY_Cart ul li").length<1&&$(".LAY_Cart").hide()}),$(document).on("mouseleave",".LAY_Cart",function(){$(this).hide()}),$(document).on("click",".LAY_Cart .view-cart",function(){location.href="/Cart.html"}),$(document).on("click",".LAY_Cart .remove",function(){var a=$(this).data("key"),b=$(this).data("type");$.post("/Cart/del.html",{category:b,cart_key:a},function(a){$.page.cartShow(a);var b=getCookie("cartHtml");b=b.length>0?b:"<span>Your Shopping Cart Is Empty</span>",$(".LAY_Cart ul").html(b).parent().show()})}),$(document).on("click",".add-to-cart",function(){var a=$(this),b=a.attr("data-type"),c=a.attr("data-id"),d=a.attr("data-attr"),e=a.parents(".row-goods, .list-item").find(".item-num"),f=1*e.val(),g=1*e.attr("min"),h=1e6;f=parseInt(isNaN(f)?1:f),g=parseInt(isNaN(g)?1:g),g=g<1?1:g,f=f<g?g:f>h?h:f;var i={category:b,id:c,attr:d,num:f};switch(b){case"gold":case"silver":case"new_gold":case"new_silver":i.group=a.attr("data-group");break;case"powerleveling":case"new_pl":i.lv1=$(".lv-start").val().toInt(),i.lv2=$(".lv-end").val().toInt();break;case"product_pack":i.aid=a.data("aid")}$.post("/Cart/add.html",i,function(c){if("product_pack"==b){for(var d in c.details.product_pack)var e={cart_key:{product_pack:[d]}};$.post("/Order/directCreate.html",e,function(a){0==a?$.layer.alert("Sold out!"):location.href="/Order/view-"+a+".html"})}else $.page.cartAnimate(a),$.page.cartShow(c),$(".cartShowBtn").trigger("mouseover")});var j=window.innerHeight,k=320,l=j/2-k/2;$(".jq-cart-box").css("top",l),$(".jq-cart-box .cols").click(function(){$(this).parents(".jq-cart-box").css("top",0).hide()})}),$(document).on("click",".add-to-sellcart",function(){var a=$(this),b=a.attr("data-type"),c=a.attr("data-id"),d=a.attr("data-attr"),e=a.parents(".row-goods, .list-item").find(".item-num"),f=e.length?e.val().toInt():1,g={category:b,id:c,attr:d,num:f};switch(b){case"gold":case"silver":case"new_gold":case"new_silver":g.group=a.attr("data-group");break;case"powerleveling":case"new_pl":g.lv1=$(".lv-start").val().toInt(),g.lv2=$(".lv-end").val().toInt();break;case"product_pack":g.aid=a.data("aid")}$.post("/SellCart/add.html",g,function(b){$.page.cartAnimate(a);var c=$.page.sellCartShow(b);$("#SellListBox").html(c)})}),$(document).on("click","#SellListBox .down",function(){var a=$(this).parents("tr"),b=a.attr("data-type"),c=a.attr("data-key");$.post("/SellCart/del.html",{category:b,cart_key:c},function(b){a.remove();var c=$.page.sellCartShow(b);$("#SellListBox").html(c)})}),$(document).on("change",".cart-list .input-num",function(){var a=$(this).val().toInt(),b=$(this).attr("min").toInt(),c=1e6;b=b<1?1:b,a=Math.min(Math.max(b,a),c),$(this).val(a);var d=$(this).parents("li"),e=d.data("type"),f=d.attr("data-key");$.post("/Cart/save.html",{category:e,cart_key:f,num:a},function(a){$.page.openUrl(location.herf)})}),$(document).on("click",".cart-list .num-change .num-reduce",function(){var a=$(this).parents(".num-change").find(".item-num"),c=a.val().toInt(),d=a.attr("min").toInt();d=d<1?1:d,c=Math.max(d,c-1),a.val(c).change(),b()}),$(document).on("click",".cart-list .num-change .num-add",function(){var a=$(this).parents(".num-change").find(".item-num"),c=a.val().toInt();c=Math.min(1e6,c+1),a.val(c).change(),b()}),$(document).on("click",".cart-list .del",function(){var a=$(this).parents("li"),b=a.attr("data-type"),c=a.attr("data-key");$.post("/Cart/del.html",{category:b,cart_key:c},function(b){0==b.total?window.location.reload():(a.remove(),$.page.openUrl(location.herf))})}),$(document).on("click",".cart-list .btn.create",function(){$.post("/Order/create.html",{},function(a){})}),$("select.country").change(function(){var a=$(this).val(),b=$(this).find('[value="'+a+'"]').html();$(this).parents(".ui-select").siblings(".country-name").val(b),$(this).parents(".ui-select").siblings(".country-ucent").val(a)}),$(document).on("click",".nav-secondary .more",function(){$(this).parents(".top").next(".more-page").slideDown(),$(this).addClass("more-close")}),$(document).on("click",".nav-secondary .more-close",function(){$(this).parents(".top").next(".more-page").slideUp(),$(this).removeClass("more-close")}),$(document).on("change",".total-points",function(){var a=Math.min($(this).val().toInt(),maxUsePoints);$(this).val(a),$(".use-points .points-price").html(d().number_format(2)),e()}),$(document).on("click",'input:radio[name="discountType"]',function(){"discountWu"==$(this).val()?($("input[name=paytype]").val(["western_union"]),$(".discount-word").find('input:radio[name="discountType"]:checked').val("discountWu")):("western_union"==$('input[name="paytype"]:checked').val()&&$("input[name=paytype]").val(["paypal"]),$(".discount-word").find('input:radio[name="discountType"]:checked').val("discountCode")),e()}),$(document).on("click",".discount-apply-btn",function(){$(".discount-word").find('input:radio[name="discountType"]:checked').val("discountCode"),e("discountCode")}),$(document).on("click",".payment-method > li > *",function(){"western_union"==$(this).val()?($('input:radio[value="discountWu"]').val(["discountWu"]),$(".discount-word").find('input:radio[name="discountType"]:checked').val("discountWu")):("discountWu"==$(".discount-word").find('input:radio[name="discountType"]:checked').val()&&$('input:radio[value="discountVip"]').val(["discountVip"]),$(".discount-word").find('input:radio[name="discountType"]:checked').val("discountCode")),e()}),$(document).on("click",".use-points .checked",function(){var a=$(this).prop("checked"),b=d();$(".use-points .points-price").text("-"+b.number_format(2)),$(this).val(maxUsePoints),a?($(".use-points .total-points-input, .ava").show(),$(".use-points .discount-tips").hide()):($(".use-points .total-points-input, .ava").hide(),$(".use-points .discount-tips").show()),e()}),$(document).on("click",".details-toggle span",function(){return $(this).parents(".details-toggle").children().toggle().end().parents(".list-item").find(".goods-details").toggle(),!1}),$(document).on("keyup",".jq-items-search input,.input-product-keyword",function(){var a=$(this).val().trim().toLowerCase();$(".items-list ul li").each(function(){var b=$(this).children(".box-block").attr("title");void 0!==b&&""!=b&&(b=b.toLowerCase(),b.indexOf(a)==-1?$(this).hide():$(this).show())})}),$(document).on("keyup",".search-game-index > input",function(){var a=$(this).val().trim().toLowerCase();$(".choose-game ul> li").each(function(){var b=$(this).children("a").attr("title");void 0!==b&&(b=b.toLowerCase()),void 0!==b&&""!=b&&b.indexOf(a)==-1?$(this).hide():$(this).show()})}),$(".choose-letter > li > a").click(function(){var a=$(this).attr("data-letter").toLowerCase();$(".choose-game > li").each(function(){var b=new RegExp("^"+a,"i");b.test($(this).children("a").attr("title"))?$(this).show():$(this).hide()}),$(this).addClass("btn-alt-hover").siblings("a").removeClass("btn-alt-hover")}),$(document).on("click",".choose-letter ul li",function(){var a=$(this).find("a").attr("data-letter").toLowerCase();$(".choose-game ul > li").each(function(){var b=new RegExp("^"+a,"i");b.test($(this).children("a").attr("title"))?$(this).show():$(this).hide()}),$(this).addClass("current").siblings("li").removeClass("current")}),$(document).on("click",".gold-choose-letter ul li",function(){var a=$(this).attr("data-letter").toLowerCase();$(".server-regional .box .js-link").each(function(){var b=new RegExp("^"+a,"i");b.test($(this).attr("data-title"))?$(this).show():$(this).hide()}),$(this).addClass("current").siblings("li").removeClass("current"),$(".server-m-mores .down").addClass("upord"),$(this).parents(".box").removeClass("server-m-more")}),$(document).on("click",".histroy-row",function(){$(this).find(".promotion-content").toggle()}),$(document).on("click",".item-quick-buy .action.add",function(){$(".item-quick-buy .list").append($(".item-quick-buy .tmp").html()),f()}),$(document).on("click",".item-quick-buy .list .del",function(){$(this).parents("tr").remove(),f()}),$(document).on("change",'input[type="text"]',function(){f()}),$(document).on("click",".item-quick-buy .buy-now",function(){var a=[];try{$(".item-quick-buy .list .item-row").each(function(b,c){var d=$(this).find(".name").val().trim(),e=$(this).find(".gold").val().toInt(),f=$(this).find(".silver").val().toInt(),g=$(this).find(".copper").val().toInt(),h=$(this).find(".seller").val().trim();if((d||e||f||g||h)&&(!d||!h||!e&&!f&&!g))throw"_34001_";d&&a.push({name:d,gold:e,silver:f,copper:g,seller:h})})}catch(b){return errorMsg(b),!1}var c={gid:gid,aid:aid,data:a};$.post("/Items/auctionAdd.html",c,function(a){var b={cart_key:{items:a}};$.post("/Order/create.html",b,function(a){location.href="/Order/view-"+a+".html"})})}),$(document).on("keyup change",".input-num",function(){var a=$(this).val().replace(/[^\d\.]/g,"").toFloat();$(this).val(a);var b=$(this).closest(".list-item"),c=b.find(".jq-amount").attr("data-price").toFloat(),d=a*c;b.find(".jq-amount").html(currency.sign+" "+d.number_format(2))}),$(document).on("click",".goods-num .num-reduce",function(){var a=$(this).parents(".goods-num").find(".item-num"),b=a.val().toInt(),c=a.attr("min").toInt();c=c<1?1:c,b=Math.max(c,b-1),a.val(b).change()}),$(document).on("click",".goods-num .num-add",function(){var a=$(this).parents(".goods-num").find(".item-num"),b=a.val().toInt();b=Math.min(1e6,b+1),a.val(b).change()}),$(document).on("mousemove",".show-preview-img img",function(a){if(0==$(this).next(".img-preview").find("img").length)return!1;var b=$(window).height(),c=$(this).next(".img-preview").height(),d=a.pageY-$(window).scrollTop()+20,e=a.pageX-$(window).scrollLeft()+20;b/2<d&&(d-=c),$(this).next(".img-preview").css({top:d,left:e}).show(),$(this).next(".img-preview").find("img").each(function(){if(""!=$(this).attr("data-original")){var a=$(this).attr("data-original");$(this).attr("src",a)}})}),$(document).on("mouseout",".show-preview-img img",function(){$(".img-preview").hide()}),$(document).on("click",".details-toggle",function(){$(this).children().toggle().end().parents(".list-item").find(".goods-details").toggle()}),$(document).on("change",".account-box .condition select",function(){$(".account-box .condition .condition-search").click()}),$(document).on("click",".account-box .order-by a",function(){var a=$(this).attr("order-by");$(".account-box .condition .select-order-by").val(a).change()}),$(document).on("click",".view-profile-btn, .account-list .goods-icon, .account-list .content .title",function(){var a=$(this).attr("data-id");return 0!=$(".account-pic").find(".view-profile-"+a).find("img").length&&($(".account-pic").hide().find(".view-profile").hide().find("img").hide(),$(".account-pic").show().find(".view-profile-"+a).show().find("img").eq(0).show(),$(".account-pic .view-profile-"+a+" img").length>1?$(".account-pic .prev, .account-pic .next").show():$(".account-pic .prev, .account-pic .next").hide(),void g())}),$(document).on("click",".account-pic",function(){$(".account-pic").hide().find(".view-profile").hide().find("img").hide()}),$(document).on("click",".account-pic .prev",function(){var a=$(".view-profile:visible").find("img:visible"),b=a.index();return 0!=b&&(a.hide().prev("img").show(),g()),!1}),$(document).on("click",".account-pic .next",function(){var a=$(".view-profile:visible").find("img:visible"),b=$(".view-profile:visible").find("img").length,c=a.index();return c!=b-1&&(a.hide().next("img").show(),g()),!1}),$(document).on("click",".promotion-error .sign-in",function(){$.blockUI({message:".login-form"})}),$("document").on("change",".promotion-area select",function(){var a=$(this).data("game"),b=$(this).data("type"),c=$(this).val(),d="";d+="/Promotion","coming_soon"==b&&(d+="/comingsoon"),d+="/"+a.ucFirst()+"-"+c.ucFirst()+".html",$.page.openUrl(d)}),$(document).on("click",".shortcut-menu .quick-buy a",function(){var a=[];for(var b in gameListConfigs)0!=gameListConfigs[b].id&&a.push(gameListConfigs[b]);layer.form({title:"Quickly Buy",area:["100%"],cols:["30%","70%"],autoClose:!0,btn:["Add to Cart","Close"],btnClass:["add-to-cart","cancel"],form:{gid:{name:"Games",type:"select",options:a,width:"100%",option_key:"id",option_val:"title"},aid:{name:"Server",type:"select",val_type:"int",options:{},width:"100%"},goods:{name:"Products",type:"select",val_type:"int",options:{},width:"100%",option_key:"id",option_val:"title"},price:{name:"Price",disabled:1,type:"text"}}}),$(".layui-layer-select.gid").change()}),$(document).on("click",".jq-user-box .sign-in",function(){var a=$(this).parents(".jq-user-box"),b=a.find(".usname").val(),c=a.find(".passwd").val(),d=new RegExp("^[a-zA-Z0-9]+([._\\-]*[a-zA-Z0-9])*@([a-zA-Z0-9]+[-a-z0-9]*[a-zA-Z0-9]+.){1,63}[a-zA-Z0-9]+$");return""==b?(a.find(".error-text p").html("Please input the email address!").parent().show(),a.find(".usname").focus(),!1):d.test(b)?""==c?(a.find(".error-text p").html("Please input the password!").parent().show(),a.find(".passwd").focus(),!1):c.length<6?(a.find(".error-text p").html("Password length is too short!").parent().show(),a.find(".passwd").focus(),!1):void $.post("/Signin.html",{usname:b,passwd:c},function(){$.layer.alert("Login Success!"),location.reload()}):(a.find(".error-text p").html("Wrong email address!").parent().show(),a.find(".usname").focus(),!1)}),$(document).on("keyup",".jq-user-box .usname,.jq-user-box .passwd",function(){13==event.keyCode&&$(".jq-user-box .sign-in").click()}),$(document).on("click",".jq-signup-box .sign-up",function(){var a=$(this).parents(".jq-signup-box"),b=a.find(".usname").val(),c=a.find(".passwd").val(),d=a.find(".passwd2").val(),e=new RegExp("^[a-zA-Z0-9]+([._\\-]*[a-zA-Z0-9])*@([a-zA-Z0-9]+[-a-z0-9]*[a-zA-Z0-9]+.){1,63}[a-zA-Z0-9]+$");return""==b?(a.find(".error-text p").html("Please input the email address!").parent().show(),a.find(".usname").focus(),!1):e.test(b)?""==c?(a.find(".error-text p").html("Please input the password!").parent().show(),a.find(".passwd").focus(),!1):c.length<6||c.length>32?(a.find(".error-text p").html("Password length is too short!").parent().show(),a.find(".passwd").focus(),!1):""==d?(a.find(".error-text p").html("Please input the password!").parent().show(),a.find(".passwd2").focus(),!1):d!=c?(a.find(".error-text p").html("Two passwords Not Matched").parent().show(),a.find(".passwd2").focus(),!1):void $.post("/Signup.html",{usname:b,passwd:c,nepasswd:d},function(){$.layer.alert("Sign Up Success!"),location.reload()}):(a.find(".error-text p").html("Wrong email address!").parent().show(),a.find(".usname").focus(),!1)}),$(document).on("keyup",".jq-signup-box .passwd2",function(){13==event.keyCode&&$(".jq-signup-box .sign-up").click()}),$("body").on("click",".input-email .submit-email",function(){var a=$.trim($(".get-email").val());return""==a?(layer.alert("Please enter your email !"),!1):void $.post("/ResetPasswd/validateEmail.html",{email:a},function(a){location.href="/ResetPasswd/accept.html"})}),$("body").on("click",".accept .submit-passwd",function(){var a=$.trim($(".codes").val()),b=$.trim($(".new-passwd").val()),c=$.trim($(".accept .again-passwd").val());return""==a?(layer.alert("Please enter Verification!"),!1):""==b?(layer.alert("Please enter Password!"),!1):b.length<6||b.length>32?(layer.alert("Use 6-32 characters!"),!1):""==c?(layer.alert("Please confirm Password!"),!1):b!=c?(layer.alert("Two passwords Not Matched"),!1):void $.post("/ResetPasswd/sendVerification.html",{codes:a,new_passwd:b,again_passwd:c},function(a){location.href="/ResetPasswd/success.html"})}),$(".submit-again-btn").hover(function(){$(this).css("background","#279ac5")},function(){$(this).css("background","#48bce8")}),$("body").on("click",".submit-again-btn",function(){$.post("/ResetPasswd/sendAgain.html",{},function(a){}),$(this).removeClass("submit-again-btn"),$(".reset-email a:hover").css("background","#279ac5"),$(this).val(5);var a=null,b=$(this),c=parseInt($(this).val()),a=setInterval(function(){c--,b.val(c),c<=0&&(b.val("send again"),b.addClass("submit-again-btn"),clearInterval(a))},1e3)}),$(document).on("keyup",".top-search .search,.top-search .filter-input",function(){var a=$(this).val().trim().toLowerCase(),b=!1;return""==a?($(".all-game .line").each(function(){$(this).hide(),$(this).parents(".nav_left").css("overflow","auto")}),$(".mask-box").hide(),!1):($(".all-game .line").each(function(){var c=500,d=$(this).attr("title");void 0!==d&&(d=d.toLowerCase()),void 0!==d&&""!=d&&d.indexOf(a)==-1?$(this).hide():($(this).show(),b=!0,$(".all-game").css("max-height",c))}),void(b?($(".mask-box").show(),$(this).parents(".nav_left").css("overflow","hidden")):($(".mask-box").hide(),$(this).parents(".nav_left").css("overflow","auto"))))}),$(document).on("click",".mask-box",function(){$(".all-game .line").hide(),$(this).hide(),$(".top-search .search").val(""),$(".tian_nav .search-area.filter-ignore").hide(),$(".tian_nav .search_nav").removeClass("dragon-icoo"),$(this).parents(".nav_left").css("overflow","auto")}),$(document).on("click",".order-pay .submit",function(){var a=$(".order .userinfo"),b=($(".order .playerinfo"),a.find(".first-name").val().trim()),c=a.find(".last-name").val().trim(),d=a.find(".email").val().trim(),e=a.find(".phone").val().trim(),f=a.find(".country option:selected").val().trim(),g=$("select[id*='info-card-type']"),h=$("select[id*='info-duration']"),i=$(this).attr("qty"),j=$("input[class*='buy-now-price']"),k=$(".upload-img-url"),l=$(".jq-tian-confirm #tianConfirm");if(""==b)return $.layer.msg("Please enter your first name!"),a.find(".first-name").scrollTo(),!1;if(""==c)return $.layer.msg("Please enter your last name!"),a.find(".last-name").scrollTo(),!1;if(""==d)return $.layer.msg("Please enter your e-mail !"),a.find(".email").scrollTo(),!1;if(""==f)return $.layer.msg("Please Select Country !"),a.find(".country").scrollTo(),!1;if(""==e)return $.layer.msg("Please enter your phone number !"),a.find(".phone").scrollTo(),!1;var m=!1;if($(".add-options-input.not-null").each(function(a,b){if(!$(this).is(":hidden")){var c=$(this).siblings(".add-options-title").val();return""==$(this).val().trim()?($.layer.msg("Please enter "+c+"!"),$(this).scrollTo(),m=!0,!1):void 0}}),m)return!1;if($(".add-options-select.not-null").each(function(a,b){if(!$(this).is(":hidden")){var c=$(this).siblings(".add-options-title").val();return""==$(this).find("option:selected").val().trim()?($.layer.msg("Please select "+c+"!"),$(this).scrollTo(),m=!0,!1):void 0}}),m)return!1;var n=!1;if(g.length>0&&g.each(function(a,b){var c=$(this).val().trim();if(""==c)return $.layer.msg("Please select card type !"),$(this).scrollTo(),n=!0,!1}),n)return!1;var o=!1;if(h.length>0&&h.each(function(a,b){var c=$(this).val().trim();if(""==c)return $.layer.msg("Please select Duration !"),$(this).scrollTo(),o=!0,!1}),o)return!1;var p=!1;if(k.length>0&&k.each(function(a,b){var c=$(this).val().trim();if(""==c)return $.layer.msg("Please upload Your listed items images!"),$(this).scrollTo(),p=!0,!1}),p)return!1;if(j.length>0){var q=0;if(j.each(function(a,b){var c=$(this).val().trim();c=parseInt(c.replace(/,/g,"")),q+=c}),q>i)return $.layer.msg("Total post amount cant exceed your purchased amount."),!1}return l.length>0&&!l.is(":checked")?($.layer.msg("Please tick the box and ensure posted card info correctly."),!1):void $.layer.load(0,{shade:[.1,"#fff"]})}),$("body").on("click",".ad-lock-screen .close",function(){return setCookie("ad_popup_close_time",1,6e5),$("body").removeClass("overflow-hidden"),$(".ad-lock-screen").hide(),!1}),$(window).load(function(){$.post("/Cart/cartShow.html",function(a){$.page.cartShow(a)})}),$("img.lazy").show().lazyload({event:"scrollstop",effect:"fadeIn",threshold:50,skip_invisible:!1,failure_limit:200})}),$(function(){$(document).on("click",".server-countries li",function(){var a=$(this).data("product");$(this).addClass("current").siblings("li").removeClass("current").parents(".sever-list").find("."+a).show().siblings().hide()}),$(document).on("click",".server-countries li",function(){$(this).parents(".sever-list").find(".server-regional").addClass("community")}),$(document).on("click",".server-countries .dragon-ico-ctrl1",function(){$(this).toggleClass("dragon-ico-ctrl2").parent().toggleClass("blue")}),$(document).on("click",".server-m-mores",function(){$(this).find(".down").toggleClass("upord"),$(this).siblings(".unit:gt(14)").toggle(),$(this).parent().toggleClass("server-m-more")}),$(document).on("click",".jq-category-countries li",function(){var a=$(this).data("product");$(this).addClass("current").siblings("li").removeClass("current").parents(".jq-category-list").find("."+a).show().siblings().hide()}),$(document).on("click",".jq-category-countries li",function(){$(this).parents(".jq-category-list").find(".jq-category-regional").addClass("community")}),$(document).on("change","select.jq-cate-select",function(){var a=$(this).find("option:selected").data("href");$.page.openUrl(a,"GET",{},!1)}),$(document).on("click",".pl-key2 input",function(){var a=$(this).val();$(this).addClass("current").siblings().removeClass("current"),$("select.pl-key").val(a).trigger("change")}),$("select.jq-search-select-prop").length&&($(document).on("change","select.jq-search-select-prop",function(){itemsSearchProp()}),$(document).on("keyup",".jq-joint-search-items input",function(){itemsSearchProp()})),$(document).on("click",".jq-sku-btn",function(a){a.stopPropagation(),$("ul.jq-sku-opts").hide(),$(this).next("ul.jq-sku-opts").toggle()}),$(document).on("click","body",function(){$("ul.jq-sku-opts").hide()}),$(document).on("click","ul.jq-sku-opts li",function(){var a=$(this).attr("data"),b=a.split("*");if(5==b.length){var c=$(this).data("id"),d=$(this).parents(".jq-sku").children(".jq-sku-btn"),e=$(this).parents(".jq-list-item"),f=currencyConfig.sign+" ",g=b[1].replace(/[^\d\.]/g,"").toFloat()*currencyConfig.rate,h=1*e.data("discount"),i=(g*h/100).number_format(2);d.find(".init-price").text(f+i),d.find(".init-title").html(b[0]),d.attr("data-val",a),e.find(".jq-sale-price").text(f+g.number_format(2)),e.find(".jq-onsale-price").text(f+i),b[2]&&(d.find(".init-style").css("background",b[2]).show(),e.find(".colorPiece").css("background",b[2])),b[4]&&e.find(".jq-img, .img-preview img.lazy").attr({"data-original":b[4],src:b[4]}),e.find(".add-to-cart").attr("data-attr",c+"-"+b[0]),$(this).parent(".jq-sku-opts").hide()}}),$(".jq-item-num").length&&($(document).on("input change",".jq-list-item .jq-item-num",function(a){var b=$(this).parents(".jq-list-item"),c=currencyConfig.sign+" ",d=1*b.data("discount"),e=offPrice=0,f=1*$(this).val();if(f=parseInt(isNaN(f)?1:f),"change"==a.type){var g=1e6,h=$(this).attr("min");h=h<1?1:h,f=f<h?h:f>g?g:f}if(b.find(".jq-sku .jq-sku-btn").length){var i=b.find(".jq-sku .jq-sku-btn").attr("data-val").split("*");if(5==i.length){var j=1*i[3];f=f>j?j:f;var k=i[1].replace(/[^\d\.]/g,"").toFloat()*currencyConfig.rate;e=k*f,offPrice=(e*d/100).number_format(2)}}else{var i=b.attr("data").split("*"),k=i[0]*currencyConfig.rate;e=k*f,offPrice=(e*d/100).number_format(2)}$(this).val(f),e>0&&(b.find(".jq-sale-price").text(c+e.number_format(2)),b.find(".jq-onsale-price").text(c+offPrice))}),$(".jq-list-item .jq-item-num").change()),$(document).on("click",".view-profile",function(){$(this).next(".product-details").show().next(".mask").show()}),$(document).on("click",".middle .buttonbox",function(){$(this).closest(".product-details").hide().next(".mask").hide()}),$(document).on("click",".mask",function(){$(this).hide().prev(".product-details").hide()})}),!function(a,b){"use strict";var c=function(a){var c=this;c.container="string"==typeof a?b(a):a,c.slider=c.container.find(".swiper-slider"),c.offset=0,c.startOffset={},c.moveOffset={},c.endOffset={},c.move=!1,c.slide=c.container.hasClass("slide"),c.slideConfig={showNum:c.container.data("show")||1,num:c.slider.children().length,offset:0,autoPlay:c.container.data("autoplay")===!0,imgMinWidth:c.container.data("imgminwidth")||0,imgHeight:c.container.data("imgheight")||0,delay:c.container.data("delay")||5e3};var d="createTouch"in document;c.startEvent=d?"touchstart":"mousedown",c.moveEvent=d?"touchmove":"mousemove",c.endEvent=d?"touchend":"mouseup",c.slider[0].addEventListener(c.startEvent,function(a){c.slideStart(a)}),c.slider[0].addEventListener(c.moveEvent,function(a){c.slideMove(a)}),c.slider[0].addEventListener(c.endEvent,function(a){c.slideEnd(a)}),c.slide||c.slider.children().click(function(){var a=b(this);b(this).siblings().removeClass("on").end().addClass("on"),setTimeout(function(){c.init();var b=a.position().left,d=a.outerWidth();(-c.offset+b+d>c.containerWidth||b<-c.offset)&&(c.offset=-b+40,c.offset=Math.min(0,c.offset),c.offset=Math.max(c.minX,c.offset),c.slider.css({left:c.offset}))},200)}),this.init()};c.pt=c.prototype,c.pt.init=function(){var a=this;if(a.containerWidth=a.container.width(),a.slide){var b=a.slideConfig;b.width=a.containerWidth/b.showNum,b.page=Math.ceil(b.num/b.showNum),a.sliderWidth=b.width*(b.num+2),a.slideInit()}else{var c=a.slider.children().not(".swiper-ignore").last();c&&c.length&&(a.sliderWidth=c.position().left+c.outerWidth(),a.minX=Math.min(0,a.containerWidth-a.sliderWidth))}},c.pt.slideInit=function(){var a=this,c=a.slideConfig;c.control||a.addController(),a.slider.width(a.sliderWidth).children().width(c.width),c.width<c.imgMinWidth?a.slider.find("img").each(function(){var a=b(this).attr("src"),d=Math.max(c.imgMinWidth,c.width),e=c.imgHeight;a=a.replace(/\d+_\d+_\d\./,d+"_"+e+"_1."),b(this).attr("src",a),b(".swiper-slider-unit").show()}):a.slider.find("img").each(function(){var a=b(this).attr("src");b(this).attr("src",a),b(".swiper-slider-unit").show()}),a.initController(),c.autoPlay&&a.autoPlay()},c.pt.addController=function(){var a=this,c=a.slideConfig;c.prev=b('<div class="swiper-slide-prev"><i class="dragon-ico-ctrl"></i></div>'),c.next=b('<div class="swiper-slide-next"><i class="dragon-ico-ctrl3"></i></div>');for(var d='<span class="swiper-control">',e=0;e<c.page;e++)d+="<i></i>";return d+="</span>",c.control=b(d),c.num<=1&&(c.prev.css("display","none"),c.next.css("display","none"),c.control.css("display","none")),a.container.append(c.prev),a.container.append(c.next),a.container.append(c.control),c.prev.click(function(){a.slidePrev(!1)}),c.next.click(function(){a.slideNext(!1)}),c.control.children().click(function(){c.offset=b(this).index(),a.slideDoAnimate()}),b(window).resize(function(){a.slideNext(!1)}),this},c.pt.initController=function(){var a=this,b=a.slideConfig;0==b.offset?b.prev.addClass("disabled"):b.prev.removeClass("disabled"),b.offset==b.num-b.showNum?b.next.addClass("disabled"):b.next.removeClass("disabled"),b.control.children().removeClass("current").eq(Math.ceil(b.offset/b.showNum)).addClass("current"),a.containerHeight=a.container.height();var c=a.containerHeight/10;return b.prev.css({background:b.btnBg,"font-size":c,"padding-top":a.containerHeight/2-c/2}),b.next.css({background:b.btnBg,"font-size":c,"padding-top":a.containerHeight/2-c/2}),b.control.find("i").css({"font-size":c/2}),this},c.pt.autoPlay=function(){var a=this,b=a.slideConfig;clearTimeout(b.t),b.t=setTimeout(function(){
a.slideNext(!0),a.autoPlay()},b.delay)},c.pt.slideNext=function(a){var b=this,c=b.slideConfig;!a&&(clearTimeout(c.t),c.autoPlay&&b.autoPlay()),c.offset==c.num-c.showNum?a&&(c.offset=0,b.slideDoAnimate(0)):(c.offset=Math.min(c.offset+c.showNum,c.num-c.showNum),b.slideDoAnimate())},c.pt.slidePrev=function(a){var b=this,c=b.slideConfig;return!a&&(clearTimeout(c.t),c.autoPlay&&b.autoPlay()),0==c.offset?a&&(c.offset=c.num-c.showNum,b.slideDoAnimate(0)):(c.offset=Math.max(c.offset-c.showNum,0),b.slideDoAnimate(470)),this},c.pt.slideDoAnimate=function(a){var b=this,c=b.slideConfig;return b.init(),b.slider.animate({left:-c.offset*c.width},a,"linear"),this},c.pt.slideStart=function(a){var b=this;if(b.slider[0].setCapture&&b.slider[0].setCapture(),a.touches){var c=a.touches[0];b.startOffset={x:c.clientX,y:c.clientY}}else b.startOffset={x:a.clientX,y:a.clientY};b.move=!0},c.pt.slideMove=function(a){var b=this;if(a.touches){var c=a.touches[0];b.moveOffset={x:c.clientX,y:c.clientY}}else b.moveOffset={x:a.clientX,y:a.clientY};a.preventDefault(),b.init(),b.move&&(b.offset=Math.min(0,b.offset+b.moveOffset.x-b.startOffset.x),b.offset=Math.max(b.minX,b.offset),b.slider.css({left:b.offset}))},c.pt.slideEnd=function(a){var b=this;b.move=!1},b.fn.extend({swiper:function(){b(this).find(".swiper-container").each(function(a,d){new c(b(this))})}})}(window,jQuery);